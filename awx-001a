=~=~=~=~=~=~=~=~=~=~=~= PuTTY log 2024.08.31 00:29:52 =~=~=~=~=~=~=~=~=~=~=~=
login as: vn57a7f
vn57a7f@10.16.14.30's password: 
Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-190-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Sat 31 Aug 00:30:04 BST 2024

  System load:  2.54               Processes:               361
  Usage of /:   53.5% of 57.40GB   Users logged in:         0
  Memory usage: 57%                IPv4 address for cni0:   10.42.2.1
  Swap usage:   100%               IPv4 address for ens160: 10.16.14.30

  => There are 2 zombie processes.


Expanded Security Maintenance for Applications is not enabled.

40 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status


*** System restart required ***
-------------------------------
Purpose:- Ansible AWX
Built By:- Gavin Dye
Owner:- Compute
-------------------------------    
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Fri Aug 30 17:40:57 2024 from 10.3.214.198

]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ sudo su -
[sudo] password for vn57a7f: 
]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# his[K[K[Kw
 00:30:33 up 25 days, 22:12,  1 user,  load average: 2.28, 2.00, 1.83
USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
vn57a7f  pts/0    10.3.214.198     00:30    1.00s  2.27s  0.06s sshd: vn57a7f [priv]
]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# history
 1000  ls
 1001  awx -v export > full_backup.json
 1002  OUTPUT_DIR="./awx_backup"
 1003  mkdir -p $OUTPUT_DIR
 1004  ls
 1005  awx job_templates list --all > $OUTPUT_DIR/job_templates.json
 1006  awx -v job_templates list --all > $OUTPUT_DIR/job_templates.json
 1007  cd awx_backup/
 1008  chmod 777 /home/awx/awx_backup/
 1009  chmod +x awx_restore.sh 
 1010  ./awx_restore.sh
 1011  chmod +x import_awx.sh
 1012  ./awx_import.sh
 1013  chmod +x awx_import.sh
 1014  cd ..
 1015  cd awx_backup/
 1016  ls
 1017  chmod +x awx_import.sh
 1018  chmod +x awx_restore.sh
 1019  ./awx_restore.sh
 1020  hostnamectl 
 1021  hostnamectl set-hostname cvlauukaho-001a
 1022  cd /etc/network
 1023  ls
 1024  cd ..
 1025  ls
 1026  ls -ltr
 1027  cd netplan/
 1028  ls
 1029  ls -ltr
 1030  vi 99-netcfg-vmware.yaml 
 1031  kubectl get pods -A
 1032  shutdown -r now
 1033  kubectl get nodes
 1034  kubectl get  pods -A
 1035  kubectl get  pods -n awx
 1036  kubectl get svc -a
 1037  kubectl get secrets -a
 1038  kubectl get secrets -A
 1039  kubectl get secret -n awx awx-prod-tls -o yaml
 1040  ls-ltr
 1041  ls -ltr
 1042  cd /home/awx/
 1043  ls
 1044  ls -ltr
 1045  mv Prod\ Environment\ Files/ Prod_Env_Files
 1046  mv Cert\ Environment\ Files/ Cert_Env_Files
 1047  ls -ltr
 1048  cd Prod_Env_Files/
 1049  ls
 1050  ls -ltr
 1051  cd ..
 1052  ls -ltr
 1053  cd Cert_Env_Files/
 1054  ls
 1055  mv Cert\ Files/ Cert_Files
 1056  cd Cert_Files/
 1057  ls
 1058  ls -ltr
 1059  more awx-asdacert-ingress.yaml
 1060  kubectl get secrets -A
 1061  ls -al
 1062  cd ..
 1063  ls -la
 1064  cat awx-asdacert-ingress.yaml 
 1065  history
 1066  kubectl get all -A
 1067  kubectl edit ingress awx-ingress -n awx
 1068  kubectl get ingress -A
 1069  kubectl edit ingress awx-asda-ingress -n awx
 1070  kubectl get secret -A 
 1071  kubectl get secret -n awx  awx-prod-tls  -o yaml
 1072  ls
 1073  cd Secret_Files/
 1074  ls
 1075  cat awx-cert-tls.yaml 
 1076  kubectl apply -f awx-cert-tls.yaml
 1077  kubectl get secret -n awx
 1078  kubectl delete secret awx-prod-tls -n awx
 1079  kubectl get svc -A
 1080  kubectl get secret -n awx awx-asda-postgres-13 -o yaml
 1081  kubectl get svc -n awx awx-asda-postgres-13 -o yaml
 1082  kubectl get secret -n awx
 1083  kubectl get secret -n awx awx-asda-postgres-configuration
 1084  kubectl get secret -n awx awx-asda-postgres-configuration -o yaml
 1085  kubectl edit secret -n awx awx-asda-postgres-configuration -o yaml
 1086  kubectl get nodes
 1087  kubectl get pvc
 1088  kubectl get pvc -A
 1089  kubectl get pods -all-namespaces
 1090  kubectl get pods --all-namespaces
 1091  kubectl get nodes -o wide
 1092  kubectl drain pvlauukslo-002a
 1093  kubectl get deploy -A
 1094  kubectl get job
 1095  kubectl get job -n awx
 1096  kubectl get ds -A
 1097  kubectl get ds -n awx
 1098  kubectl drain pvlauukslo-002a --ignore-daemonsets --delete-emptydir-data 
 1099  kubectl drain pvlauukslo-002a --ignore-daemonsets --delete-emptydir-data --force 
 1100  kubectl  get pvc -A
 1101  kubectl describe -n awx postgres-13-awx-asda-postgres-13-0 -o yaml
 1102  kubectl describe -n awx postgres-13-awx-asda-postgres-13-0
 1103  kubectl describe pvc -n awx postgres-13-awx-asda-postgres-13-0
 1104  kubectl describe pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1105  kubectl get pods -n awx
 1106  kubectl delete pod -n awx automation-job-19244-g7k9q --force
 1107  kubectl get pods -n awx
 1108  kubectl delete pod -n awx automation-job-19212-fhxlc --force
 1109  kubectl get pods -n awx
 1110  kubectl delete pod -n awx awx-operator-controller-manager-585df5d96d-gb6lf --force
 1111  kubectl delete pod -n awx awx-asda-postgres-13-0 --force
 1112  kubectl get pods -n awx
 1113  kubectl delete pod -n awx awx-asda-54d6d4fbf8-hs6g6 --force
 1114  kubectl get pods -n awx
 1115  kubectl get pods -A
 1116  kubectl get pods -A -o wide
 1117  kubectl get pods -A -o wide 
 1118  kubectl get pod -n kube-system
 1119  kubectl get pods -A -o wide | grep -i pvlauukred-002a
 1120  kubectl delete pod -n kube-system dashboard-metrics-scraper-64bcc67c9c-mdsq6 --force
 1121  kubectl get pods -A -o wide | grep -i pvlauukred-002a
 1122  kubectl get pods -A -o wide 
 1123  kubectl get pods -A -o wide | grep -i pvlauukslo-002a
 1124  kubectl delete pod -n kube-system svclb-traefik-f57c6271-29fwk
 1125  kubectl delete pod -n kube-system svclb-traefik-f57c6271-29fwk --force
 1126  kubectl get pods -A -o wide | grep -i pvlauukslo-002a
 1127  kubectl delete pod -n kube-system local-path-provisioner-5b5579c644-jgc9s --force
 1128  kubectl delete pod -n kube-system metrics-server-5c8978b444-4n9hc --force
 1129  kubectl delete pod -n kube-system coredns-75fc8f8fff-5rsr8 --force
 1130  kubectl delete pod -n kube-system traefik-9c6dc6686-6gb5t --force
 1131  kubectl delete pod -n kube-system helm-install-traefik-rtmxn --force
 1132  kubectl get pods -A -o wide | grep -i pvlauukslo-002a
 1133  kubectl get pods -A -o wide | grep -i pvlauukred-002a
 1134  kubectl delete pod -n kube-system svclb-traefik-f57c6271-l9d7k --force
 1135  kubectl delete pod -n kube-system dashboard-metrics-scraper-64bcc67c9c-mdsq6 --force
 1136  kubectl delete pod -n kube-system kubernetes-dashboard-5c8bd6b59-qmfl4 --force
 1137  kubectl get nodes
 1138  kubectl delete node pvlauukred-002a
 1139  kubectl get nodes
 1140  kubectl get pods -n awx
 1141  kubectl describe pod awx-asda-postgres-13-0 -n awx
 1142  kubectl get pvc -A
 1143  kubectl describe postgres-13-awx-asda-postgres-13-0 -n awx
 1144  kubectl describe pvc postgres-13-awx-asda-postgres-13-0 -n awx
 1145  kubectl edit pvc postgres-13-awx-asda-postgres-13-0 -n awx -o yaml
 1146  kubectl get pods -n awx
 1147  kubectl delete pod -n awx awx-asda-postgres-13-0
 1148  kubectl get pods -n awx
 1149  kubectl describe pvc postgres-13-awx-asda-postgres-13-0 -n awx
 1150  kubectl get pvc -A
 1151  kubectl describe pvc awx-asda-projects-claim -n awx
 1152  kubectl edit pvc awx-asda-projects-claim -n awx
 1153  kubectl get pods -n awx
 1154  kubectl describe pod -n awx awx-asda-postgres-13-0
 1155  kubectl get pv -A
 1156  kubectl get nodes
 1157  kubectl delete node pvlauukslo-002a
 1158  kubectl get nodes
 1159  kubectl get pods -n awx
 1160  kubectl get pods -n awx -o wide
 1161  kubectl delete pod -n awx awx-asda-postgres-13-0
 1162  kubectl get pods -n awx -o wide
 1163  kubectl get statefulset -A
 1164  kubectl edit statefulset -n awx awx-asda-postgres-13
 1165  kubectl get statefulset -n awx awx-asda-postgres-13 -o yaml >/home/awx/awx-asda-postgres-13_statefulset.yaml
 1166  vi /home/awx/awx-asda-postgres-13_statefulset.yaml
 1167  kubectl delete statefulset -n awx awx-asda-postgres-13
 1168  kubectl get pods -n awx -o wide
 1169  kubectl apply -f /home/awx/awx-asda-postgres-13_statefulset.yaml  -n awx 
 1170  kubectl get pods -n awx -o wide
 1171  kubectl describe pod -n awx awx-asda-postgres-13-0
 1172  kubectl get pv -A
 1173  kubectl describe pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1174  kubectl edit  pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1175  kubectl get pv -A
 1176  kubectl get pvc -A
 1177  kubectl edit pvc -n awx postgres-13-awx-asda-postgres-13-0
 1178  kubectl edit  pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1179  cd /var/lib/rancher/k3s/storage/pvc-a8596565-0200-4906-956e-53655d2ae54b_awx_postgres-13-awx-asda-postgres-13-0
 1180  cd /
 1181  kubectl edit  pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1182  kubectl get node cvlauukaho-001a --show-labels
 1183  kubectl get pv -A
 1184  kubectl decribe pv pvc-ccefb34f-6669-4ce3-9c1e-2974b51eb735
 1185  kubectl describe pv pvc-ccefb34f-6669-4ce3-9c1e-2974b51eb735
 1186  kubectl describe pv pvc-a8596565-0200-4906-956e-53655d2ae54b
 1187  kubectl edit  pv pvc-a8596565-0200-4906-956e-53655d2ae54b
 1188  cd /source/
 1189  ls
 1190  ls -ltr
 1191  cp postgres.yaml postgresn.yaml
 1192  vi postgresn.yaml
 1193  kubectl apply -f postgresn.yaml --dry-run=client
 1194  kubectl apply -f postgresn.yaml
 1195  kubectl create --save-config
 1196  vi postgresn.yaml
 1197  kubectl get pvc -n awx
 1198  kubectl edit pvc postgres-13-awx-asda-postgres-13-0 -n awx
 1199  ls -ltr
 1200  kubectl get pv -n awx
 1201  kubectl get pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx -o yaml > pv.yaml
 1202  kubectl get pv  pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx -o yaml > pv.yaml
 1203  vi pv.yaml 
 1204  kubectl apply -f pv.yaml --dry-run-client
 1205  kubectl apply -f pv.yaml --dryrun-client
 1206  kubectl apply -f pv.yaml --dry-run=client
 1207  kubectl apply -f pv.yaml
 1208  kubectl get nodes --show-labels
 1209  vi pv.yaml 
 1210  shutdown -h now
 1211  kubectl get nodes --show-labels
 1212  kubectl get pods -A
 1213  kubectl describe pod awx-asda-postgres-13-0 -n awx
 1214  vi pv.yaml 
 1215  cd /source/
 1216  vi pv.yaml 
 1217  kubectl edit pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx -o yaml 
 1218  kubectl edit pv pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx -o yaml 
 1219  kubectl get pv -o wide
 1220  kubectl get pv -n awx postgres-13-awx-asda-postgres-13-0 -o yaml > pvcpostgres-13.yaml
 1221  kubectl get pvc -n awx postgres-13-awx-asda-postgres-13-0 -o yaml > pvcpostgres-13.yaml
 1222  kubectl delete pvc awx/postgres-13-awx-asda-postgres-13-0
 1223  kubectl delete pvc -n awx postgres-13-awx-asda-postgres-13-0
 1224  kubectl delete pv pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx
 1225  kubectl get pv -o wide
 1226  ls -ltr
 1227  kubectl apply -f pvcpostgres-13.yaml
 1228  kubectl get pv -o wide
 1229  kubectl get pvc -o wide
 1230  kubectl get pvc -o wide -n awx
 1231  kubectl describe pvc postgres-13-awx-asda-postgres-13-0 -n awx
 1232  kubectl get pvc -o wide
 1233  ls -ltr
 1234  kubectl apply -f pv.yaml 
 1235  kubectl get pvc -o wide
 1236  kubectl get pvc -o wide -n awx
 1237  kubectl get pv -o wide
 1238  kubectl get pod -A
 1239  kubectl delete pod awx-asda-postgres-13-0 -n awx
 1240  kubectl get pod -A
 1241  kubectl describe pod awx-asda-postgres-13-0-n awx
 1242  kubectl describe pod awx-asda-postgres-13-0 -n awx
 1243  kubectl describe pvc postgres-13-awx-asda-postgres-13-0 -n awx
 1244  kubectl get pv -n awx postgres-13-awx-asda-postgres-13-0 -o yaml 
 1245  kubectl get pv -n awx
 1246  kubectl get pv pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx -o yaml
 1247  kubectl get pv -o wide
 1248  kubectl get pvc  -o wide
 1249  kubectl get pvc  -o wide -n awx
 1250  cd /var/lib/rancher/k3s/storage/pvc-a8596565-0200-4906-956e-53655d2ae54b_awx_postgres-13-awx-asda-postgres-13-0
 1251  ls
 1252  cd data/
 1253  ls
 1254  cg pgdata/
 1255  cd pgdata/
 1256  ls
 1257  ls -ltr
 1258  kubectl get pvc  -o wide -n awx
 1259  kubectl get pod -o wide
 1260  kubectl get pod  -n awx-o wide
 1261  kubectl get pod  -n awx -o wide
 1262  cd /source/
 1263  ls -ltr
 1264  more pvcpostgres-13.yaml
 1265  kubectl get pvc  -o wide -n awx
 1266  kubectl get pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b -o yaml
 1267  ls -ltr
 1268  vi pv.yaml 
 1269  kubectl apply -f pv.yaml
 1270  kubectl apply -f pv.yaml -n awx
 1271  clear
 1272  vi pv.yaml 
 1273  kubectl get pvc  -o wide -n awx
 1274  #
 1275  kubectl patch pv pvc-a8596565-0200-4906-956e-53655d2ae54b -p '{"spec":{"persistentVolumeReclaimPolicy":"Retain"}}'
 1276  kubectl get pvc  -o wide -n awx
 1277  kubectl get pv -n awx -o wide
 1278  kubectl delete pvc -n awx postgres-13-awx-asda-postgres-13-0
 1279  kubectl get pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1280  kubectl get pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b -o yaml
 1281  kubectl edit pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b -o yaml
 1282  kubectl get pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b -o yaml > pv_pvc.yaml
 1283  kubectl edit pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b -o yaml
 1284  ls -ltr
 1285  cat pvcpostgres-13.yaml
 1286  kubectl apply -y pvcpostgres-13.yaml
 1287  kubectl apply -f pvcpostgres-13.yaml
 1288  kubectl get pvc  -o wide -n awx
 1289  kubectl get pv  -o wide -n awx
 1290  kubectl get pods 
 1291  kubectl get deploy -n awx
 1292  kubectl get pod -n awx
 1293  systemctl stop k3s.service 
 1294  systemctl start k3s.service 
 1295  kubectl get pod -n awx
 1296  kubectl describe deplot awx-asda -n awx
 1297  kubectl describe deploy awx-asda -n awx
 1298  kubectl get  deploy awx-asda -n awx -o yaml > awx-asdadeploy.yaml
 1299  kubectl apply -f awx-asdadeploy.yaml 
 1300  kubectl get pod -n awx
 1301  kubectl get deploy -n awx
 1302  cat /etc/environment 
 1303  kubectl get deploy -n awx -o wide
 1304  kubectl get network-policy -n -awx
 1305  kubectl get net -n -awx
 1306  kubectl get networkpolicy -n -awx
 1307  kubectl get networkpolicy 
 1308  kubectl get networkpolicy -A
 1309  kubectl rollout restart deployment  awx-asda -n awx
 1310  kubectl get deploy -n awx -o wide
 1311  kubectl describe  deploy -n awx -o wide
 1312  kubectl describe  deploy  awx-asda -n awx -o wide
 1313  kubectl describe  deploy  awx-asda -n awx 
 1314  kubectl get deploy -n awx -o wide
 1315  #kubectl scale deployment <deployment-name> --replicas=1 -n <namespace>
 1316  kubectl scale deployment awx-asda  --replicas=1 -n awx
 1317  kubectl get deploy -n awx -o wide
 1318  kubectl get pod -n awx -o wide
 1319  kubectl get events -A
 1320  kubectl get svc -n awx
 1321  kubectl get awx-asda-service -n awx -o yaml
 1322  kubectl get svc  awx-asda-service -n awx -o yaml
 1323  kubectl get ingress -n awx
 1324  kubectl describe ingress k3s-awx-http-redirect -n awx
 1325  nslookup 10.16.14.30
 1326  ip addr
 1327  kubectl get ingress -n awx
 1328  kubectl describe awx-asda-ingress -n awx
 1329  kubectl describe ingress  awx-asda-ingress -n awx
 1330  kubectl edit ingress  awx-asda-ingress -n awx -o yaml
 1331  kubectl describe ingress  awx-asda-ingress -n awx
 1332  kubectl get ingress -n awx
 1333  ls -ltr
 1334  vi middleware_ingress.yaml
 1335  vi traefik-config.yaml
 1336  vi traefik-truststore.yaml
 1337  kubectl get secrtes -A
 1338  kubectl get secret -A
 1339  l s-ltr
 1340  ls -ltr
 1341  vi traefik-truststore.yaml
 1342  vi traefik-config.yaml
 1343  kubectl aaply -f traefik-truststore.yaml
 1344  kubectl apply -f traefik-truststore.yaml
 1345  kubectl apply -f middleware_ingress.yaml
 1346  ls
 1347  ls -ltr
 1348  vi traefik.yaml 
 1349  diff traefik_backup.yaml_241123 traefik.yaml
 1350  kubectl get pods -A
 1351  shutdown -r now
 1352  kubectl get nodes --show-labels
 1353  kubectl get pods -n awx -o wide
 1354  kubectl get nodes --show-labels
 1355  kubectl get pods -A
 1356  kubectl get ingress -n awx
 1357  export HTTP_PROXY=http://10.1.216.28:3128
 1358  export HTTPS_PROXY=http://10.1.216.28:3128
 1359  export NO_PROXY=127.0.0.1,localhost,.asda.uk
 1360  cat /etc/environment 
 1361  df -h
 1362  kubectl get pods -n awx -o wide
 1363  kubectl get configmap -A
 1364  kubectl decribe cm -n awx awx-operator
 1365  kubectl describe cm -n awx awx-operator
 1366  kubectl describe cm -n awx awx-operator awx-asda-awx-configmap
 1367  kubectl describe cm -n awx awx-operator awx-asda-awx-configmap | grep -i pvla
 1368  kubectl get configmap -A
 1369  kubectl describe cm -n awx awx-operator awx-operator-awx-manager-config | grep -i pvla
 1370  kubectl get ingress -A
 1371  cd /source/
 1372  ls
 1373  vi middleware_ingress.yaml 
 1374  ls -ltr
 1375  kubectl get ingress -A
 1376  kubectl get ingress -n awx awx-asda-ingress -o yaml > awx-asda-ingress.yaml
 1377  vi awx-asda-ingress.yaml
 1378  kubectl apply -f awx-asda-ingress.yaml
 1379  kubectl get ingress -A
 1380  helm list -n awx
 1381  kubectl ingress -A
 1382  kubectl get  ingress -A
 1383  kubectl describe ingress -n awx awx-asda-ingress
 1384  kubectl get events -A
 1385  kubectl ingress -A
 1386  kubectl get ingress -A
 1387  kubectl get ingress -n default
 1388  ls -ltr
 1389  vi awx-asda-ingress.yaml
 1390  vi awx-asda.yaml
 1391  kubectl apply -f awx-asda.yaml 
 1392  kubectl get ingress -n default
 1393  kubectl get ingress -A
 1394  vi kustomization.yaml 
 1395  kubectl get all -A | more
 1396  kubectl get ingress -A
 1397  kubectl describe ingress  -n awx  awx-asda-ingress
 1398  kubectl get svc -n awx awx-asda-service
 1399  kubectl get svc -n awx awx-asda-service -o yaml
 1400  kubectl get svc -n awx awx-asda-service -o yaml | grep -i pvl
 1401  kubectl get secret -A
 1402  kubectl get secret -A -n awx
 1403  kubectl get secret -n awx
 1404  kubectl get secret awx-cert-tls -n awx
 1405  kubectl get secret awx-cert-tls -n awx -o yaml
 1406  kubectl get secret -n awx
 1407  kubectl get secret awx-asda-receptor-ca -n awx -o yaml
 1408  kubectl get awx -n awx
 1409  kubectl describe awx -n awx -o yaml
 1410  kubectl describe awx-asda -n awx -o yaml
 1411  kubectl describe awx awx-asda -n awx -o yaml
 1412  kubectl get awx -n awx
 1413  kubectl get awx -n awx -o yaml
 1414  kubectl edit awx -n awx -o yaml
 1415  kubectl get secret -A
 1416  kubectl get secret -A -n awx
 1417  kubectl get secret -n awx
 1418  kubectl get nodes
 1419  kubectl get pods -A
 1420  kubectl get all -n awx
 1421  kubectl get pvc -n awx
 1422  df -h
 1423  kubectl get svc -n awx
 1424  kubectl get pods -n awx
 1425  kubectl describe deployment.apps/awx-asda
 1426  kubectl describe deployment.apps/awx-asda -n awx
 1427  kubectl describe deployment.apps/awx-operator-controller-manager -n awx
 1428  kubectl get events -A
 1429  cat /etc/resolv.conf 
 1430  cd /etc/systemd/
 1431  vi resolved.conf 
 1432  ls -l resolved.conf 
 1433  uptime
 1434  kubectl get pods -n awx
 1435  uname -a
 1436  kubectl get events -A
 1437  kubectl get deployments -A
 1438  kubectl get deployments -n awx awx-asda -o yaml
 1439  cat /etc/systemd/system/k3s.service
 1440  cat /etc/systemd/system/k3s.service.env
 1441  cd /var/log/unattended-upgrades/
 1442  ls -ltr
 1443  cat unattended-upgrades-dpkg.log
 1444  apt install net-tools mlocate krb5-user samba sssd sssd-tools libnss-sss libpam-sss realmd adcli ntp ntpdate ncdu cockpit
 1445  cat /etc/krb5.conf 
 1446  vi /etc/krb5.conf 
 1447  vi /etc/sssd/sssd.conf 
 1448  vi /etc/pam.d/common-session
 1449  visudo
 1450  EDITOR=vi export EDITOR
 1451  EDITOR=vi;export EDITOR
 1452  visudo
 1453  systemctl restart sssd.service 
 1454  ssh vn55epw@cvlauukaho-001a
 1455  id
 1456  kubectl get pods -A
 1457  kubectl get svc -n awx
 1458  kubectl describe svc -n awx  awx-asda-service
 1459  df -h
 1460  cd /run/k3s/containerd
 1461  ll
 1462  cd io.containerd.runtime.v1.linux/
 1463  ll
 1464  cd
 1465  kubectl get pods
 1466  kubectl get pods --all-namespaces
 1467  kubectl get pvc
 1468  cd /var/lib/rancher/
 1469  ll
 1470  cd k3s/
 1471  ll
 1472  cd server/
 1473  ll
 1474  cd
 1475  kubectl get pods --all-namespaces
 1476  kubectl describe pods awx-asda-postgres-13-0 -n awx
 1477  cd /data
 1478  ll
 1479  df -h /data
 1480  cd /var/lib/postgresql/data
 1481  cd /var/lib/postgresql/
 1482  cd /var/lib/
 1483  ll
 1484  cd rancher/
 1485  ll
 1486  cd k3s/
 1487  ll
 1488  cd storage/
 1489  ll
 1490  cd pvc-a8596565-0200-4906-956e-53655d2ae54b_awx_postgres-13-awx-asda-postgres-13-0/
 1491  ll
 1492  cd data
 1493  ll
 1494  cd pgdata/
 1495  ll
 1496  cd ../../
 1497  ll
 1498  cd ../
 1499  ll
 1500  cd pvc-ccefb34f-6669-4ce3-9c1e-2974b51eb735_awx_awx-asda-projects-claim/
 1501  ll
 1502  cd var/
 1503  ll
 1504  cd lib/
 1505  ll
 1506  cd awx/
 1507  ll
 1508  cd projects/
 1509  ll
 1510  pwd
 1511  ll
 1512  df -h
 1513  cd
 1514  exit
 1515  df -h
 1516  kubectl get nodes
 1517  kubectl get pods -n awx
 1518  kubectl get pods -A
 1519  kubectl logs pod dashboard-metrics-scraper-64bcc67c9c-rzxfb -n kubernetes-dashboard 
 1520  kubectl logs pods dashboard-metrics-scraper-64bcc67c9c-rzxfb -n kubernetes-dashboard 
 1521  kubectl logs dashboard-metrics-scraper-64bcc67c9c-rzxfb -n kubernetes-dashboard 
 1522  kubectl logs kubernetes-dashboard-5c8bd6b59-zbxmx -n kubernetes-dashboard 
 1523  kubectl get events -n kubernetes-dashboard
 1524  kubectl get events -n awx
 1525  kubectl  get pvs
 1526  kubectl  get pvs -A
 1527  kubectl  get pvc -A
 1528  kubectl  get pv 
 1529  kubectl  get volume 
 1530  kubectl  get all -A
 1531  kubectl get pod/awx-asda-786c757b57-79mcn -o yaml -n awx|grep -i -A5 containerID |grep -i name
 1532  kubectl get nodes
 1533  kubectl get pods -n awx
 1534  ll /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem
 1535  ps -ef|grep -i nginx
 1536  find / -name nginx.conf
 1537  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877/rootfs/etc/nginx
 1538  ll
 1539  cat nginx.conf
 1540  ll
 1541  cd default.d/
 1542  ll
 1543  cd ../conf.d/
 1544  ll
 1545  cd ../
 1546  ll
 1547  cd /usr/share/nginx/modules
 1548  cd ../../
 1549  ll
 1550  cd usr/share/nginx/
 1551  ll
 1552  cd modules/
 1553  ll
 1554  cd ../html/
 1555  ll
 1556  cd ../
 1557  cd ../../../
 1558  ll
 1559  cd etc/ssl
 1560  ll
 1561  cat openssl.cnf
 1562  cd ../pki/tls
 1563  ll
 1564  cat openssl.cnf 
 1565  cd
 1566  cd /source/
 1567  ll
 1568  cat traefik-config.yaml
 1569  cat awx-asdadeploy.yaml
 1570  clear
 1571  cat awx-asdadeploy.yaml
 1572  ll
 1573  cat awx-asda-ingress.yaml
 1574  cat traefik-config.yaml
 1575  cd /home/awx/Cert_Env_Files/Cert_Files
 1576  ll
 1577  cat awx-cert-tls.291123.yaml
 1578  cd /home/awx
 1579  ll
 1580  cd Cert_Env_Files/
 1581  ll
 1582  pwd
 1583  ll
 1584  cat kustomization.yaml
 1585  cat awx-asdacert-ingress.yaml
 1586  ll
 1587  pwd
 1588  cd Cert_Files/
 1589  ll
 1590  cat awx-cert-tls.291123.yaml
 1591  ll
 1592  cd
 1593  cat awx-cert-tls.291123.yaml
 1594  cd /home/awx/Cert_Env_Files/Cert_Files
 1595  ll
 1596  cat awx-cert-tls.291123.yaml
 1597  kubectl get pods
 1598  kubectl get pods --all-namespaces
 1599  ll
 1600  cat awx-cert-tls.291123.yaml
 1601  kubectl get csr
 1602  kubectl get csr -n awx
 1603  kubectl get csr -n kube-system
 1604  ll
 1605  cat awx-cert-tls.291123.yaml
 1606  kubectl get pods -n kube-system -o custom-columns=PodName:.metadata.name,PodUID:.metadata.uid
 1607  ll
 1608  cat awx-cert-tls.291123.yaml
 1609  ll
 1610  cd ../
 1611  ll
 1612  cat awx-asdacert-ingress.yaml
 1613  df -h
 1614  df -h|grep 874a4d09ca9969b9013c9d135241a245f1cce23af34f560e6ba918e30ec339bc
 1615  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/874a4d09ca9969b9013c9d135241a245f1cce23af34f560e6ba918e30ec339bc/rootfs
 1616  ll
 1617  cd data
 1618  ll
 1619  cd ../
 1620  cd etc/
 1621  ll
 1622  cd ssl
 1623  ll
 1624  cd certs
 1625  ll
 1626  cd ../
 1627  ll
 1628  cd ../
 1629  ll
 1630  cat motd 
 1631  cd ssl1.1/
 1632  ll
 1633  cat openssl.cnf
 1634  cd ../
 1635  ll
 1636  cd
 1637  df -h|grep 5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877
 1638  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877/rootfs
 1639  ll
 1640  cd etc/
 1641  ll
 1642  cd nginx/
 1643  ll
 1644  cd ../receptor/
 1645  ll
 1646  cd tls/
 1647  ll
 1648  cd ca/
 1649  ll
 1650  openssl x509 -in receptor-ca.crt -text -noout
 1651  cd ../
 1652  ll
 1653  cd ../
 1654  ll
 1655  cd signing/
 1656  ll
 1657  openssl x509 -in work-public-key.pem -text -noout
 1658  cd ../
 1659  ll
 1660  cd ssl
 1661  ll
 1662  cd ../pki/
 1663  ll
 1664  cd ca-trust/
 1665  ll
 1666  cd extracted/
 1667  ll
 1668  cd openssl/
 1669  ll
 1670  openssl x509 -in ca-bundle.trust.crt -text -noout
 1671  cd ../
 1672  ll
 1673  cd pem/
 1674  ll
 1675  cd ../
 1676  ll
 1677  cd ../
 1678  ll
 1679  cd source/
 1680  ll
 1681  cd ../
 1682  ll
 1683  cd tls
 1684  ll
 1685  cd certs/
 1686  ll
 1687  cd ../../
 1688  ll
 1689  cd ../
 1690  ll
 1691  cd ssl
 1692  ll
 1693  cd ../tower/
 1694  ll
 1695  cd conf.d/
 1696  ll
 1697  cd ../
 1698  ll
 1699  cd ../var/run/
 1700  ll
 1701  cd console/
 1702  ll
 1703  cd ../secrets/
 1704  ll
 1705  cd kubernetes.io/
 1706  ll
 1707  cd serviceaccount/
 1708  ll
 1709  cd ../../
 1710  cd ../
 1711  ll
 1712  cd lock/
 1713  ll
 1714  cd subsys/
 1715  ll
 1716  cd ../
 1717  ll
 1718  cd ../
 1719  ll
 1720  cd systemd
 1721  ll
 1722  cd ../../../
 1723  ll
 1724  cd home
 1725  ll
 1726  cd
 1727  exit
 1728  cd /etc/pki
 1729  ll
 1730  cd fwupd
 1731  ll
 1732  cd ../
 1733  cd
 1734  cd /etc/ssl
 1735  ll
 1736  cd certs/
 1737  ll
 1738  clear
 1739  ll
 1740  cd ../
 1741  ll
 1742  cd private/
 1743  ll
 1744  cd ../
 1745  cd certs/
 1746  ll  ssl-cert-snakeoil*
 1747  openssl x509 -enddate -noout -in {ssl-cert-snakeoil.pem}
 1748  openssl x509 -enddate -noout -in ssl-cert-snakeoil.pem
 1749  cd ../private/
 1750  ll
 1751  cd
 1752  find / -name ansiblecert.asda.uk  -print
 1753  find /etc -name ansiblecert.asda.uk  -print
 1754  cd /source/
 1755  ll
 1756  cat asdapvc.yaml
 1757  ll
 1758  openssl x509 -text -noout -in zscaler.crt
 1759  cd
 1760  kubectl get pods
 1761  kubectl get pods --namespaces-all
 1762  kubectl get pods --namespace-all
 1763  kubectl get pods -n awx
 1764  kubectl get svc
 1765  cd /var/lib/rancher/
 1766  ll
 1767  cd k3s/
 1768  ll
 1769  cd data
 1770  ll
 1771  cd ../server/
 1772  ll
 1773  cd tls/
 1774  ll
 1775  openssl x509 -text -noout -in server-ca.crt
 1776  openssl x509 -text -noout -in client-ca.crt
 1777  openssl x509 -text -noout -in serving-kube-apiserver.crt
 1778  openssl x509 -text -noout -in client-admin.crt
 1779  cd
 1780  netstat -tulpn|grep :80
 1781  netstat -tulpn|grep :443
 1782  netstat -tulpn
 1783  ps -ef|grep -i httpd
 1784  ps -ef|grep -i apache
 1785  ps -ef|grep -i apache2
 1786  kubectl get pods --namespaces
 1787  kubectl get pods --namespaces-all
 1788  kubectl get pods --namespace-all
 1789  kubectl get pods --help
 1790  ps -ef|grep -i nginx
 1791  find / -name nginx -print
 1792  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/f7397b32fbb9c17048f6cd58aa0df584553c4c5717b665cf036bb2c00e048864/rootfs/var/lib/nginx
 1793  ll
 1794  cd tmp/
 1795  ll
 1796  cd 
 1797  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/f7397b32fbb9c17048f6cd58aa0df584553c4c5717b665cf036bb2c00e048864/rootfs/etc/nginx
 1798  ll
 1799  cat nginx.conf
 1800  cd /etc/nginx/conf.d/
 1801  ll
 1802  cd conf.d/
 1803  ll
 1804  cd ../
 1805  cd
 1806  systemctl status nginxd
 1807  systemctl status nginx
 1808  ps -ef|grep -i nginx
 1809  cd /etc/pki/nginx/
 1810  cd /etc/pki/
 1811  ll
 1812  cd fwupd-metadata/
 1813  ll
 1814  cd
 1815  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877/rootfs/var/lib/nginx
 1816  ll
 1817  cd
 1818  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877/rootfs/etc/nginx
 1819  ll
 1820  cat nginx.conf
 1821  cd
 1822  kubectl get pods -n awx
 1823  kubectl describe pods/awx-operator-controller-manager-585df5d96d-p92kj -n awx
 1824  ll
 1825  cd .awx
 1826  ll
 1827  cd
 1828  openssl x509 -text -noout -in pvlauukslo.crt
 1829  ll
 1830  cd /source/
 1831  ll
 1832  cat awx-asda-ingress.yaml
 1833  ll awx-cert-tls
 1834  ll
 1835  cat traefik-config.yaml
 1836  cat traefik-truststore.yaml
 1837  find / -name awx-cert-tls -print
 1838  ll /certs/tls.crt
 1839  cat awx-asda-ingress.yaml
 1840  ping ansiblecert.asda.uk
 1841  kubectl get pods -n awx
 1842  kubectl describe pods/awx-asda-786c757b57-79mcn -n awx
 1843  cd
 1844  find / -name  awx-asda-web:
 1845  find / -name  awx-asda-web-conf -print
 1846  ll /etc/receptor/signing/work-public-key.pem
 1847  df -h
 1848  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877/rootfs
 1849  ll
 1850  cd etc/
 1851  ll
 1852  cd pki
 1853  ll
 1854  cd tls/
 1855  ll
 1856  cd certs/
 1857  ll
 1858  pwd
 1859  openssl x509 -enddate -noout -in ca-bundle.crt
 1860  ll
 1861  pwd
 1862  cd ../../
 1863  ll
 1864  cd ca-trust/
 1865  ll
 1866  cd extracted/
 1867  ll
 1868  cd pem/
 1869  ll
 1870  openssl x509 -enddate -noout -in tls-ca-bundle.pem
 1871  cd ../openssl/
 1872  ll
 1873  openssl x509 -enddate -noout -in ca-bundle.trust.crt
 1874  cd
 1875  kubectl get pods --all-namespaces
 1876  kubectl describe pods/svclb-traefik-f57c6271-l6s86
 1877  kubectl describe pods/svclb-traefik-f57c6271-l6s86 -n kube-system
 1878  kubectl get pods --all-namespaces
 1879  kubectl describe pods/local-path-provisioner-5b5579c644-n22q4 -n kube-system
 1880  kubectl get pods --all-namespaces
 1881  kubectl describe pods/traefik-9c6dc6686-ndmpr -n kube-system
 1882  cd /data
 1883  ll
 1884  kubectl get pods -n kube-system -o custom-columns=PodName:.metadata.name,PodUID:.metadata.uid
 1885  kubectl get pods -n awx -o custom-columns=PodName:.metadata.name,PodUID:.metadata.uid
 1886  kubectl describe pods/awx-operator-controller-manager-585df5d96d-p92kj -n awx
 1887  kubectl get pods --all-namespaces
 1888  kubectl describe pods/traefik-9c6dc6686-ndmpr -n kube-system
 1889  kubectl get pods --all-namespaces
 1890  kubectl describe pods/awx-operator-controller-manager-585df5d96d-p92kj -n awx
 1891  kubectl describe pods/awx-asda-786c757b57-79mcn -n awx
 1892  cd
 1893  exit
 1894  cd /home/awx/
 1895  ll
 1896  cd Prod_Env_Files/
 1897  ll
 1898  cd ansiblecertsprod/
 1899  ll
 1900  cd ..
 1901  cd Cert_Env_Files/
 1902  ls -lrth
 1903  cd Cert_Files/
 1904  openssl x509 -in /home/awx/Cert_Env_Files/Cert_Files/awx-cert-tls.new -text -noout
 1905  ll
 1906  openssl x509 -in /home/awx/Cert_Env_Files/Cert_Files/awx-cert-tls.new -text -noout
 1907  cat awx-cert-tls.new
 1908  openssl x509 -in /home/awx/Cert_Env_Files/Cert_Files/awx-cert-tls.new -text -noout
 1909  pwd
 1910  ls -lrth
 1911  openssl x509 -in /home/awx/Cert_Env_Files/Cert_Files/awx-cert-tls_291123.pem -text -noout
 1912  ip addr
 1913  df -Th
 1914  kubectl get pods _A
 1915  kubectl get pods -A
 1916  kubectl exec -it awx-asda-786c757b57-79mcn -c awx-asda-task -n awx -- /bin/bash
 1917  ll
 1918  kubectl get pods -A
 1919  kubectl exec -it awx-asda-786c757b57-79mcn -c awx-asda-task -n awx -- /bin/bash
 1920  ll
 1921  cat awx-cert-tls.291123.yaml
 1922  kubectl get pods -A
 1923  kubectl exec -it awx-asda-786c757b57-79mcn -c awx-asda-task -n awx -- /bin/bash
 1924  ls -lrth
 1925  cat awx-cert-tls.291123.yaml
 1926  kubectl pod -A
 1927  kubectl get pods -A
 1928  kubectl exec -it awx-asda-786c757b57-79mcn -c awx-asda-task -n kubernetes-dashboard -- /bin/bash
 1929  kubectl exec -it kubernetes-dashboard-5c8bd6b59-zbxmx -c awx-asda-task -n kubernetes-dashboard -- /bin/bash
 1930  kubectl exec -it kubernetes-dashboard-5c8bd6b59-zbxmx -c kubernetes-dashboard -n kubernetes-dashboard -- /bin/bash
 1931  kubectl describe pod kubernetes-dashboard-5c8bd6b59-zbxmx
 1932  kubectl describe pod kubernetes-dashboard-5c8bd6b59-zbxmx -n kubernetes-dashboard
 1933  kubectl get pods -A
 1934  kubectl describe pod awx-asda-786c757b57-79mcn -n awx
 1935  kubectl get pods -A
 1936  find -name kube
 1937  find / -name kube
 1938  find / -name tls
 1939  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/08e383159a515cebd3e4958fe1269c8547d9375dd5ed42e6131b349d5571cb4d/rootfs/etc/pki/tls
 1940  ll
 1941  cd certs/
 1942  ll
 1943  openssl x509 -in /home/awx/Cert_Env_Files/Cert_Files/awx-cert-tls_291123.pem -text -noout#
 1944  openssl x509 -in /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/08e383159a515cebd3e4958fe1269c8547d9375dd5ed42e6131b349d5571cb4d/rootfs/etc/pki/tls
 1945  pwd
 1946  openssl x509 -in /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/08e383159a515cebd3e4958fe1269c8547d9375dd5ed42e6131b349d5571cb4d/rootfs/etc/pki/tls -text -noout
 1947  openssl x509 -in /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/08e383159a515cebd3e4958fe1269c8547d9375dd5ed42e6131b349d5571cb4d/rootfs/etc/pki/tls/ca-bundle.crt -text -noout
 1948  openssl x509 -in /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/08e383159a515cebd3e4958fe1269c8547d9375dd5ed42e6131b349d5571cb4d/rootfs/etc/pki/tls/cert.pem -text -noout
 1949  ls -lrth
 1950  cd etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem
 1951  find / -name tls
 1952  kubectl describe pod awx-asda-786c757b57-79mcn -n awx
 1953  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877/rootfs/etc/pki/tls
 1954  ll
 1955  pwd
 1956  ls -lrth
 1957  cd certs/
 1958  ll
 1959  cd ..
 1960  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/08e383159a515cebd3e4958fe1269c8547d9375dd5ed42e6131b349d5571cb4d/rootfs/etc/pki/tls
 1961  ls -lrth
 1962  cd certs/
 1963  ll
 1964  cat ca-bundle.crt 
 1965  cat /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem
 1966  kubectl get pods -A
 1967  kubectl get all -A
 1968  ps -ef|grep -i nginx
 1969  ps -ef|grep -i apache
 1970  cd /etc/ssl/certs/
 1971  ls -l 
 1972  ls -l |grep -i ansi
 1973  locate ansiblecert.asda.uk
 1974  cd /home/awx/Cert_Env_Files/
 1975  ll
 1976  cd Cert_Files/
 1977  ll
 1978  locate awx-cert-tls
 1979  more /home/awx/Cert_Env_Files/Secret_Files/awx-cert-tls.yaml
 1980  openssl x509 -in /home/awx/Cert_Env_Files/Cert_Files/awx-cert-tls_291123.pem -text -noout
 1981  ifconfig 
 1982  kubectl get pods -n awx
 1983  kubectl get pods awx-asda-786c757b57-79mcn -n awx
 1984  kubectl get pod/awx-asda-786c757b57-79mcn -o yaml -n awx|grep -i -A5 containerID |grep -i name
 1985  kubectl exec -it awx-asda-786c757b57-79mcn -c awx-asda-web -n awx -- /bin/bash
 1986  kubectl get secret -A
 1987  kubectl describe awx-cert-tls -n awx
 1988  kubectl describe certs awx-cert-tls -n awx
 1989  kubectl describe secret  awx-cert-tls -n awx
 1990  openssl x509 -in /home/awx/Cert_Env_Files/Cert_Files/awx-cert-tls_291123.pem -text -noout
 1991  kubectl get pods -A
 1992  history -o yaml
 1993  kubectl get ingress -n awx awx-asda-ingress -o yaml
 1994  pwd
 1995  ll
 1996  history
 1997  kubectl describe deployment.apps/awx-operator-controller-manager -n awx
 1998  w
 1999  history
]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# 
]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# logout
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ sudo kubectl get pods -n awx
NAME                                               READY   STATUS    RESTARTS       AGE
awx-asda-postgres-13-0                             1/1     Running   3 (25d ago)    92d
awx-asda-786c757b57-79mcn                          4/4     Running   12 (25d ago)   92d
awx-operator-controller-manager-585df5d96d-p92kj   2/2     Running   12 (25d ago)   93d
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ 
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ sud su [K[K[K[K[K[K[Khistory
    1  sudo su -
    2  sudo kubectl get pods -n awx
    3  history
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ sudo su 
]0;root@cvlauukaho-001a: /home/vn57a7froot@cvlauukaho-001a:/home/vn57a7f# 
]0;root@cvlauukaho-001a: /home/vn57a7froot@cvlauukaho-001a:/home/vn57a7f# history \[K|tail
 1989  kubectl get pods -A
 1990  history -o yaml
 1991  kubectl get ingress -n awx awx-asda-ingress -o yaml
 1992  pwd
 1993  ll
 1994  history
 1995  kubectl describe deployment.apps/awx-operator-controller-manager -n awx
 1996  w
 1997  history
 1998  history |tail
]0;root@cvlauukaho-001a: /home/vn57a7froot@cvlauukaho-001a:/home/vn57a7f# 
]0;root@cvlauukaho-001a: /home/vn57a7froot@cvlauukaho-001a:/home/vn57a7f# cd /home/awx/Cert_Env_Files/Cert_Files/awx-cert-tls_291123.pem[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Files/Cert_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files/Cert_Files# ls- l [K[K[K[K -l
total 64
-rw-rw-r-- 1 awx awx  1675 Nov 15  2023 ansiblecert.asda.uk.key
-rw-rw-r-- 1 awx awx 13108 Nov 23  2023 awx-cert-tls_231123
-rw-rw-r-- 1 awx awx  2529 Nov 29  2023 awx-cert-tls_291123.pem
-rw-rw-r-- 1 awx awx 10452 Nov 29  2023 awx-cert-tls.291123.yaml
-rw-rw-r-- 1 awx awx 10452 Nov 23  2023 awx-cert-tls.new
-rw-rw-r-- 1 awx awx  7962 Nov 21  2023 certandcabundle.pem
-rw-rw-r-- 1 awx awx  5968 Nov 23  2023 certandcabundle_withoutCAroot.pem
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Files/Cert_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files/Cert_Files# cd ..
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files# ls
awx-asdacert-ingress.yaml  [0m[01;34mCert_Files[0m  kustomization.yaml  middleware_ingress.yaml  [34;42mSecret_Files[0m  traefik-config.yaml  traefik-truststore.yaml
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files# ls -l 
total 28
-rw-rw-r-- 1 awx awx 1686 May 29 14:25 awx-asdacert-ingress.yaml
drwxrwxr-x 2 awx awx 4096 May 29 14:37 [0m[01;34mCert_Files[0m
-rw-rw-r-- 1 awx awx  431 May 22 15:57 kustomization.yaml
-rw-rw-r-- 1 awx awx  714 Nov 22  2023 middleware_ingress.yaml
drwxrwxrwx 2 awx awx 4096 May 29 14:38 [34;42mSecret_Files[0m
-rw-rw-r-- 1 awx awx  349 Nov 22  2023 traefik-config.yaml
-rw-rw-r-- 1 awx awx  164 Nov 22  2023 traefik-truststore.yaml
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files# more [K[K[K[K[Kls
awx-asdacert-ingress.yaml  [0m[01;34mCert_Files[0m  kustomization.yaml  middleware_ingress.yaml  [34;42mSecret_Files[0m  traefik-config.yaml  traefik-truststore.yaml
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files# cd Secret_Files/
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Files/Secret_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files/Secret_Files# ls
awx-asdacert-secret-key.yaml  awx-asdacert.yaml  awx-cert-tls.yaml  k3s-home-redirect.yaml
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Files/Secret_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files/Secret_Files# 
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Files/Secret_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files/Secret_Files# cat awx-cert-tls.yaml
apiVersion: v1
data:
  tls.crt: I0U9SmFtaWUuRG9uYWxkc29uQGFzZGEudWssQ049YW5zaWJsZWNlcnQuYXNkYS51ayxPVT1JbmZyYSBFbmdpbmVlcmluZyAtIENvbXB1dGUsTz1Bc2RhIFN0b3JlcyBMVEQsTD1MZWVkcyxTVD1XZXN0IFlvcmtzaGlyZSxDPUdCCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlHdmpDQ0JLYWdBd0lCQWdJVGRRQUFCcWtabmZvOEMwNmRZZ0FBQUFBR3FUQU5CZ2txaGtpRzl3MEJBUXNGCkFEQkxNUXN3Q1FZRFZRUUdFd0pWU3pFY01Cb0dBMVVFQ2hNVFFYTmtZU0JUZEc5eVpYTWdUR2x0YVhSbFpERWUKTUJ3R0ExVUVBeE1WUVhOa1lTQlZTeUJKYzNOMWFXNW5JRU5CSURBeE1CNFhEVEl6TVRFeU9ERTNNemMwTkZvWApEVEkwTVRFeU56RTNNemMwTkZvd2did3hDekFKQmdOVkJBWVRBa2RDTVJjd0ZRWURWUVFJRXc1WFpYTjBJRmx2CmNtdHphR2x5WlRFT01Bd0dBMVVFQnhNRlRHVmxaSE14R0RBV0JnTlZCQW9URDBGelpHRWdVM1J2Y21WeklFeFUKUkRFa01DSUdBMVVFQ3hNYlNXNW1jbUVnUlc1bmFXNWxaWEpwYm1jZ0xTQkRiMjF3ZFhSbE1Sd3dHZ1lEVlFRRApFeE5oYm5OcFlteGxZMlZ5ZEM1aGMyUmhMblZyTVNZd0pBWUpLb1pJaHZjTkFRa0JGaGRLWVcxcFpTNUViMjVoCmJHUnpiMjVBWVhOa1lTNTFhekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFPVC8KZ2hvV1N1d01WQjIvNTE3UFBCOExjaCtkUTcveFAvZzhBT3IvSDN2SFBybDQyWWZqRzJab3pGRTNYOFlNYkViMwpaRmh2THZqMHRMNWc5OUorbEJaQ0FIbHV5ME43a3l0UDZDUVdkczdHMkUxRDJDZGZienZ5V2F3bWkzZEZwcVRHCkUrS3JkZ2RIRjNUeWRqbjFPbVhzNHV6RGo2Q05zb2RPTDhiVkoyUGVBTTdYa2tsN0p6TEV4d3VSSk5yaEp1bHEKRGo0UmszWEZUa0c2N3dLK1VZWVk3TS9sSWZFRW92SEN5bWs4dE1DYm53UGY1dlB3eVJONTUxUWlnV0F0d1NvSAptM0FSL1dCRTgyTytGVUxhZHB4TC8wRXptSjUwS3dPcVZuaS8wSFplRjlOZVFOTEp2UDVMdXkzb3ZJbCtraGszCjkvSFRxSjF6UWlUMVMvd3Vna1VDQXdFQUFhT0NBaWN3Z2dJak1CNEdBMVVkRVFRWE1CV0NFMkZ1YzJsaWJHVmoKWlhKMExtRnpaR0V1ZFdzd0hRWURWUjBPQkJZRUZNQ1pHdVIzMXo4VklMc296Rzd1dFk5c0s5VldNQjhHQTFVZApJd1FZTUJhQUZFMnhaZkZPdU5OWlJmejdlRTVDM2IybklSenNNSUdWQmdOVkhSOEVnWTB3Z1lvd2dZZWdnWVNnCmdZR0dQV2gwZEhBNkx5OWpjbXd1YTJWNVptRmpkRzl5Y0d0cExtTnZiUzlCYzJSaEpUSXdWVXNsTWpCSmMzTjEKYVc1bkpUSXdRMEVsTWpBd01TNWpjbXlHUUdoMGRIQTZMeTlqY213dWEyVjVabUZqZEc5eWNHdHBaMlZ2TG1OdgpiUzlCYzJSaEpUSXdWVXNsTWpCSmMzTjFhVzVuSlRJd1EwRWxNakF3TVM1amNtd3dnYWtHQ0NzR0FRVUZCd0VCCkJJR2NNSUdaTUVrR0NDc0dBUVVGQnpBQ2hqMW9kSFJ3T2k4dlkzSnNMbXRsZVdaaFkzUnZjbkJyYVM1amIyMHYKUVhOa1lTVXlNRlZMSlRJd1NYTnpkV2x1WnlVeU1FTkJKVEl3TURFdVkzSjBNRXdHQ0NzR0FRVUZCekFDaGtCbwpkSFJ3T2k4dlkzSnNMbXRsZVdaaFkzUnZjbkJyYVdkbGJ5NWpiMjB2UVhOa1lTVXlNRlZMSlRJd1NYTnpkV2x1Clp5VXlNRU5CSlRJd01ERXVZM0owTUE0R0ExVWREd0VCL3dRRUF3SUZvREE3QmdrckJnRUVBWUkzRlFjRUxqQXMKQmlRckJnRUVBWUkzRlFqNDAwU0VpYXNLellzVWc5Yk5SSUtIbmhZbmhLRzZZSVNueEdzQ0FXUUNBUWt3RXdZRApWUjBsQkF3d0NnWUlLd1lCQlFVSEF3RXdHd1lKS3dZQkJBR0NOeFVLQkE0d0REQUtCZ2dyQmdFRkJRY0RBVEFOCkJna3Foa2lHOXcwQkFRc0ZBQU9DQWdFQU92eW9EWXhsZVBXUHVTOW9USldRQzRQR0Z2YjlaalJ6MnBOOFJrRzYKaUlGdk1FUG52Q2NUekNuZmwvY0ZGK3lUQXAreGlZUHhWVDlhdGVhczBSTWxzWXlqQWpzL1JBc2NDd3JhMUxxbApCaXEyNm1ZZFd6cGRjcDhIRGtUVDdkWHZYSzRCT2orT0xHUUw0ZGxnZk9kR2JleTZ2U1E1ay92M2FMR1NwUWdQCmN4WlZtemFiZC9BNFc0enpBUFRQeEZtUzBZalB0MFE1NTA1UTA0OGtUckZLV0E2ekNSKzh3OExzWk1BbjYvU2UKSERtSmJza3QvSW9MQ053VVE5clhvRGdLcnNtZGdFRkcrcDNNK09zU3IxRjA1Wi9GVDZqT2ZMZkVIeEpPQkpLNwoxd3VKN3RQTVV3MFJIQldPaHczWXo3WEJLL1FkcEcxcEpEWGhhcXBacUlHd2ovVm9BK05xQXhqdHBSZnBIR3dMCm80RUNWQ09POGdSRXZKS3FiOFhCeE1WdmtaNnRGUkhTZ0p1TUtCVkRCMU5teUU1K1VYajU3RkJvN0haSGM5dDYKcllKVzEyQWFuT3JDWnkrd0ZSYml4UWo0SVpQTlp3YlF2UjROY0h2cXloNGMyTWp6eWFtTDhzUVRxaitkN3ZFWQpJbjd2R2NZQUw5Rm1YbGtaOUNGVFF4QnhsYTVPazJIcy9XMmtJMm1wY0hrUTFUUkdTR3Qxd01HTU1Bc2xDUjNECldGeE02Y1E3YkF5Z0dtZzlGSWl3Z09qVG05bFpLUkZLUWZqY3pURCtzcVpWdmxBdU14ci9yRXRTTEIvdE5iUHcKckFtbU1TVTJ1KzlCL2tlbmxRR3BPY3Z2cy9nTEprenQ5dnFtMXl3WWo4THZiMDdVZXZPVHJFWUpwbmtkMTZ2NgpHS0k9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb2dJQkFBS0NBUUVBNVArQ0doWks3QXhVSGIvblhzODhId3R5SDUxRHYvRS8rRHdBNnY4ZmU4Yyt1WGpaCmgrTWJabWpNVVRkZnhneHNSdmRrV0c4dStQUzB2bUQzMG42VUZrSUFlVzdMUTN1VEswL29KQloyenNiWVRVUFkKSjE5dk8vSlpyQ2FMZDBXbXBNWVQ0cXQyQjBjWGRQSjJPZlU2WmV6aTdNT1BvSTJ5aDA0dnh0VW5ZOTRBenRlUwpTWHNuTXNUSEM1RWsydUVtNldvT1BoR1RkY1ZPUWJydkFyNVJoaGpzeitVaDhRU2k4Y0xLYVR5MHdKdWZBOS9tCjgvREpFM25uVkNLQllDM0JLZ2ViY0JIOVlFVHpZNzRWUXRwMm5Fdi9RVE9Zbm5RckE2cFdlTC9RZGw0WDAxNUEKMHNtOC9rdTdMZWk4aVg2U0dUZjM4ZE9vblhOQ0pQVkwvQzZDUlFJREFRQUJBb0lCQUF4UVFPcXVNREVwS0l6QQorT3Y4TUx0cW5pUmRESHVSdVdMYnR5RHJ2d0drNFJhUURRSmxqOStkMnY2eS80OWlzNS9OUmJRTHBuYjBrWk43CkcxaFNQaHhFU0VvL1R1YStDbGZWNENHd280clMzbWFwTTBKS3UyeDV4NkNlSWZtejRSWVRJSmFicWFrU2hZeGcKVFVNb2tJOVNnWkZCb3NON1d4SXpmaFl1K0FOQ25yTnhhc1ZPWGpwbk8zK2xFNHNWbHVJZXBkQ0MraXlLR1g1Vwp5NTkwR0VuNG5oQ0loVkdIUEs3d2JBS0drTUJ3Y2ZHNVh1RWxsbWU3elZRcXN5V01RcG1MTDNBV2JwWitmTGtsCnk4M1haMk4wbjVJYTYzemVtaDBEQ0MxKzJKWU9rWW8rY3RRWU1JWG15NHo0QmtVVXVxY0w3dkVBUUNMTzUvZ2MKNlF0KzhERUNnWUVBK2FMWk9ucEtVS0ZXdXVFUGw3V3lMZ2l2MXRHb1hvZi9VWlF4QmFJUzhjMlZKNjlCQ0dPUApIclF0SVNJTHFOVWMrMkhSWGxGbTBkNHdlb1R4WTBUcmhwTVpOT3JUK1FyMHZTTkxheHM0Q2RWS3V0UWR3RjFjClNLQ0pvT2IrZW82QTlOZ3NaQm05MDBXNzVCcndUZ1FBc3RDa3huTElqajArdm0rcFBSMXgxazhDZ1lFQTZ0WDUKUGdwaTJmKytabE81KzQyMXFHaWJhMytJR29WdmlaT24vVU9oemJNMzdTVFAxN3VlNko5dDdhUDlZRUtVMXpMUQptTGwxOHNEbEdSLzRnUzBHOEtiSWpjMHJoQjdsb0ZidUYzQldOREtFcmYrbGtNbURlTzlrNkt4RTBRdXFtdTVvCi9va3NIMU45Ylp4eDh2SHpTUklNZ3NwY3JGQ1ZYYmF2cEgwYWpTc0NnWUFzT1RjMmJ0ZWZkUldDUWNDYlphck4KRU9qbHEzcWlWSUZjbUY0ZTIxbHowTEd0dUJSVFFoL21scEN3SC9IazFPd3ZkR0s4ekxya1R2SlRvaDJKTW5wdQorcndxYmJkamxSZEtNbWgzN3ZoOGRYYXBwazRtOStNVFVxMU8vZHp6SlMrZk1IU2N2eHFyeE56R1NpZHNDclY4CitBMVl3cGpZNmV5bG0rNWxUMFFOYlFLQmdBWG51NHpEMWhpRlJkUnM1cEJjeitTY1BNeEhPTFR5Qmd2L21vblQKMlkzQ28vVmlwNWRWTUhuSkNJcWhSUTNXbnNlS2o1UkhsWisxR2cyM3NCZ1BlYzB6Wkhlc1lSdkJheVROQ3MrcwpFMzdjaGxtWnhDQVA4UzVwVnJCREpMZmRBejFDSVlIRkVVYjRZbjhQSUE1cjV5SS9RZkZJQld5UDJqR3hGbG1jCmk3NWhBb0dBRVhMTHpNVzFUWUZxZmtJY282cGtIaSs0SnFPOTF3VlFxYjl4TGlES0o4M25qQUlZMThsQWpNZSsKUUVPRGhhaXdzT2ZpYk5ya0lIRmF3cVp4OHFDNzlZeWRSaXhrK0FDemVza2pYVW9JVjZ3ajZ3Ym8wMFVUWFE1ZQpGM1N0YzA4dGoyM3pBR1JJdXVMYWFFZHAvcU16U1plK1c5bTNiZll1ZlhtRUxhbmpvV3c9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
kind: Secret
metadata:
  creationTimestamp: "2023-11-29T10:25:31Z"
  name: awx-cert-tls
  namespace: awx
  resourceVersion: "30135655"
  uid: 76ed3897-f404-4799-9758-b3e2ff643cff
type: kubernetes.io/tls
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Files/Secret_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files/Secret_Files# kubectl se[K[Kdscribe [1@e[C[C[C[C[C[C[Cdeployment.apps/awx-operator-controller-manager -n awx
Name:                   awx-operator-controller-manager
Namespace:              awx
CreationTimestamp:      Wed, 16 Nov 2022 18:11:49 +0000
Labels:                 control-plane=controller-manager
Annotations:            deployment.kubernetes.io/revision: 1
Selector:               control-plane=controller-manager
Replicas:               1 desired | 1 updated | 1 total | 1 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:           control-plane=controller-manager
  Annotations:      kubectl.kubernetes.io/default-container: manager
  Service Account:  awx-operator-controller-manager
  Containers:
   kube-rbac-proxy:
    Image:      gcr.io/kubebuilder/kube-rbac-proxy:v0.13.0
    Port:       8443/TCP
    Host Port:  0/TCP
    Args:
      --secure-listen-address=0.0.0.0:8443
      --upstream=http://127.0.0.1:8080/
      --logtostderr=true
      --v=0
    Limits:
      cpu:     500m
      memory:  128Mi
    Requests:
      cpu:        5m
      memory:     64Mi
    Environment:  <none>
    Mounts:       <none>
   awx-manager:
    Image:      quay.io/ansible/awx-operator:1.0.0
    Port:       <none>
    Host Port:  <none>
    Args:
      --health-probe-bind-address=:6789
      --metrics-bind-address=127.0.0.1:8080
      --leader-elect
      --leader-election-id=awx-operator
    Limits:
      cpu:     2
      memory:  4Gi
    Requests:
      cpu:      50m
      memory:   32Mi
    Liveness:   http-get http://:6789/healthz delay=15s timeout=1s period=20s #success=1 #failure=3
    Readiness:  http-get http://:6789/readyz delay=5s timeout=1s period=10s #success=1 #failure=3
    Environment:
      ANSIBLE_GATHERING:   explicit
      ANSIBLE_DEBUG_LOGS:  false
      WATCH_NAMESPACE:      (v1:metadata.namespace)
    Mounts:                <none>
  Volumes:                 <none>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Progressing    True    NewReplicaSetAvailable
  Available      True    MinimumReplicasAvailable
OldReplicaSets:  <none>
NewReplicaSet:   awx-operator-controller-manager-585df5d96d (1/1 replicas created)
Events:          <none>
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Files/Secret_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files/Secret_Files# kubectl describe deployment.apps/awx-operator-controller-manager -n awx[K[K[K deployment.apps/awx-asda -n awx
Name:                   awx-asda
Namespace:              awx
CreationTimestamp:      Wed, 16 Nov 2022 18:24:57 +0000
Labels:                 app.kubernetes.io/component=awx
                        app.kubernetes.io/managed-by=awx-operator
                        app.kubernetes.io/name=awx-asda
                        app.kubernetes.io/operator-version=1.0.0
                        app.kubernetes.io/part-of=awx-asda
                        app.kubernetes.io/version=21.8.0
Annotations:            deployment.kubernetes.io/revision: 4
Selector:               app.kubernetes.io/component=awx,app.kubernetes.io/managed-by=awx-operator,app.kubernetes.io/name=awx-asda
Replicas:               1 desired | 1 updated | 1 total | 1 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:           app.kubernetes.io/component=awx
                    app.kubernetes.io/managed-by=awx-operator
                    app.kubernetes.io/name=awx-asda
                    app.kubernetes.io/operator-version=1.0.0
                    app.kubernetes.io/part-of=awx-asda
                    app.kubernetes.io/version=21.8.0
  Annotations:      kubectl.kubernetes.io/restartedAt: 2024-05-30T09:57:09+01:00
  Service Account:  awx-asda
  Init Containers:
   init:
    Image:      quay.io/ansible/awx-ee:latest
    Port:       <none>
    Host Port:  <none>
    Command:
      /bin/sh
      -c
      hostname=$MY_POD_NAME
      receptor --cert-makereq bits=2048 commonname=$hostname dnsname=$hostname nodeid=$hostname outreq=/etc/receptor/tls/receptor.req outkey=/etc/receptor/tls/receptor.key
      receptor --cert-signreq req=/etc/receptor/tls/receptor.req cacert=/etc/receptor/tls/ca/receptor-ca.crt cakey=/etc/receptor/tls/ca/receptor-ca.key outcert=/etc/receptor/tls/receptor.crt verify=yes
      
    Requests:
      cpu:     100m
      memory:  128Mi
    Environment:
      MY_POD_NAME:   (v1:metadata.name)
    Mounts:
      /etc/receptor/tls/ from awx-asda-receptor-tls (rw)
      /etc/receptor/tls/ca/receptor-ca.crt from awx-asda-receptor-ca (ro,path="tls.crt")
      /etc/receptor/tls/ca/receptor-ca.key from awx-asda-receptor-ca (ro,path="tls.key")
  Containers:
   redis:
    Image:      docker.io/redis:7
    Port:       <none>
    Host Port:  <none>
    Args:
      redis-server
      /etc/redis.conf
    Requests:
      cpu:        50m
      memory:     64Mi
    Environment:  <none>
    Mounts:
      /data from awx-asda-redis-data (rw)
      /etc/redis.conf from awx-asda-redis-config (ro,path="redis.conf")
      /var/run/redis from awx-asda-redis-socket (rw)
   awx-asda-web:
    Image:      quay.io/ansible/awx:21.8.0
    Port:       8052/TCP
    Host Port:  0/TCP
    Args:
      /usr/bin/launch_awx.sh
    Requests:
      cpu:     100m
      memory:  128Mi
    Environment:
      MY_POD_NAMESPACE:   (v1:metadata.namespace)
      UWSGI_MOUNT_PATH:  /
    Mounts:
      /etc/nginx/nginx.conf from awx-asda-nginx-conf (ro,path="nginx.conf")
      /etc/receptor/signing/work-public-key.pem from awx-asda-receptor-work-signing (ro,path="work-public-key.pem")
      /etc/receptor/tls/ca/receptor-ca.crt from awx-asda-receptor-ca (ro,path="tls.crt")
      /etc/receptor/tls/ca/receptor-ca.key from awx-asda-receptor-ca (ro,path="tls.key")
      /etc/tower/SECRET_KEY from awx-asda-secret-key (ro,path="SECRET_KEY")
      /etc/tower/conf.d/credentials.py from awx-asda-application-credentials (ro,path="credentials.py")
      /etc/tower/conf.d/execution_environments.py from awx-asda-application-credentials (ro,path="execution_environments.py")
      /etc/tower/conf.d/ldap.py from awx-asda-application-credentials (ro,path="ldap.py")
      /etc/tower/settings.py from awx-asda-settings (ro,path="settings.py")
      /var/lib/awx/projects from awx-asda-projects (rw)
      /var/lib/awx/rsyslog from rsyslog-dir (rw)
      /var/run/awx-rsyslog from rsyslog-socket (rw)
      /var/run/redis from awx-asda-redis-socket (rw)
      /var/run/supervisor from supervisor-socket (rw)
   awx-asda-task:
    Image:      quay.io/ansible/awx:21.8.0
    Port:       <none>
    Host Port:  <none>
    Args:
      /usr/bin/launch_awx_task.sh
    Requests:
      cpu:     100m
      memory:  128Mi
    Environment:
      SUPERVISOR_WEB_CONFIG_PATH:  /etc/supervisord.conf
      AWX_SKIP_MIGRATIONS:         1
      MY_POD_UID:                   (v1:metadata.uid)
      MY_POD_IP:                    (v1:status.podIP)
      MY_POD_NAMESPACE:             (v1:metadata.namespace)
    Mounts:
      /etc/receptor/ from awx-asda-receptor-config (rw)
      /etc/receptor/signing/work-private-key.pem from awx-asda-receptor-work-signing (ro,path="work-private-key.pem")
      /etc/tower/SECRET_KEY from awx-asda-secret-key (ro,path="SECRET_KEY")
      /etc/tower/conf.d/credentials.py from awx-asda-application-credentials (ro,path="credentials.py")
      /etc/tower/conf.d/execution_environments.py from awx-asda-application-credentials (ro,path="execution_environments.py")
      /etc/tower/conf.d/ldap.py from awx-asda-application-credentials (ro,path="ldap.py")
      /etc/tower/settings.py from awx-asda-settings (ro,path="settings.py")
      /var/lib/awx/projects from awx-asda-projects (rw)
      /var/lib/awx/rsyslog from rsyslog-dir (rw)
      /var/run/awx-rsyslog from rsyslog-socket (rw)
      /var/run/receptor from receptor-socket (rw)
      /var/run/redis from awx-asda-redis-socket (rw)
      /var/run/supervisor from supervisor-socket (rw)
   awx-asda-ee:
    Image:      quay.io/ansible/awx-ee:latest
    Port:       <none>
    Host Port:  <none>
    Args:
      /bin/sh
      -c
      if [ ! -f /etc/receptor/receptor.conf ]; then
        cp /etc/receptor/receptor-default.conf /etc/receptor/receptor.conf
        sed -i "s/HOSTNAME/$HOSTNAME/g" /etc/receptor/receptor.conf
      fi
      exec receptor --config /etc/receptor/receptor.conf
      
    Requests:
      cpu:        100m
      memory:     64Mi
    Environment:  <none>
    Mounts:
      /etc/receptor/ from awx-asda-receptor-config (rw)
      /etc/receptor/receptor-default.conf from awx-asda-default-receptor-config (rw,path="receptor.conf")
      /etc/receptor/signing/work-private-key.pem from awx-asda-receptor-work-signing (ro,path="work-private-key.pem")
      /etc/receptor/tls/ from awx-asda-receptor-tls (rw)
      /etc/receptor/tls/ca/receptor-ca.crt from awx-asda-receptor-ca (ro,path="tls.crt")
      /var/lib/awx/projects from awx-asda-projects (rw)
      /var/run/receptor from receptor-socket (rw)
  Volumes:
   awx-asda-application-credentials:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  awx-asda-app-credentials
    Optional:    false
   awx-asda-receptor-tls:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
   awx-asda-receptor-ca:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  awx-asda-receptor-ca
    Optional:    false
   awx-asda-receptor-work-signing:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  awx-asda-receptor-work-signing
    Optional:    false
   awx-asda-secret-key:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  awx-asda-secret-key
    Optional:    false
   awx-asda-settings:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      awx-asda-awx-configmap
    Optional:  false
   awx-asda-nginx-conf:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      awx-asda-awx-configmap
    Optional:  false
   awx-asda-redis-config:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      awx-asda-awx-configmap
    Optional:  false
   awx-asda-redis-socket:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
   awx-asda-redis-data:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
   supervisor-socket:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
   rsyslog-socket:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
   receptor-socket:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
   rsyslog-dir:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
   awx-asda-receptor-config:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
   awx-asda-default-receptor-config:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      awx-asda-awx-configmap
    Optional:  false
   awx-asda-projects:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Progressing    True    NewReplicaSetAvailable
  Available      True    MinimumReplicasAvailable
OldReplicaSets:  <none>
NewReplicaSet:   awx-asda-786c757b57 (1/1 replicas created)
Events:          <none>
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Files/Secret_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files/Secret_Files# ll
total 28
drwxrwxrwx 2 awx awx 4096 May 29 14:38 [0m[34;42m.[0m/
drwxrwxr-x 4 awx awx 4096 May 29 14:38 [01;34m..[0m/
-rw-rw-r-- 1 awx awx   68 May 29 14:22 awx-asdacert-secret-key.yaml
-rw-rw-r-- 1 awx awx  308 May 22 15:57 awx-asdacert.yaml
-rw-rw-r-- 1 awx awx 5856 May 29 14:21 awx-cert-tls.yaml
-rw-rw-r-- 1 awx awx 1227 May 29 14:25 k3s-home-redirect.yaml
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Files/Secret_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files/Secret_Files# ^C
]0;root@cvlauukaho-001a: /home/awx/Cert_Env_Files/Secret_Filesroot@cvlauukaho-001a:/home/awx/Cert_Env_Files/Secret_Files# exit
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ logout
ernetes.io/pod-name=awx-asda-postgres-13-0
Annotations:      <none>
Status:           Running
IP:               10.42.2.17
IPs:
  IP:           10.42.2.17
Controlled By:  StatefulSet/awx-asda-postgres-13
Containers:
  postgres:
    Container ID:   containerd://825ef447ea2ad4c96d54429bc0657bf42dc62d6ff73931dd3e55714815755486
    Image:          postgres:13
    Image ID:       docker.io/library/postgres@sha256:3c6a77caf1ef2ae91ef1a2cdc2ae219e65e9ea274fbfa0d44af3ec0fccef0d8d
    Port:           5432/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Mon, 05 Aug 2024 02:18:48 +0100
    Last State:     Terminated
      Reason:       Unknown
      Exit Code:    255
      Started:      Mon, 01 Jul 2024 02:27:18 +0100
      Finished:     Mon, 05 Aug 2024 02:18:40 +0100
    Ready:          True
    Restart Count:  3
    Requests:
      cpu:     10m
      memory:  64Mi
    Environment:
      POSTGRESQL_DATABASE:        <set to the key 'database' in secret 'awx-asda-postgres-configuration'>  Optional: false
      POSTGRESQL_USER:            <set to the key 'username' in secret 'awx-asda-postgres-configuration'>  Optional: false
      POSTGRESQL_PASSWORD:        <set to the key 'password' in secret 'awx-asda-postgres-configuration'>  Optional: false
      POSTGRES_DB:                <set to the key 'database' in secret 'awx-asda-postgres-configuration'>  Optional: false
      POSTGRES_USER:              <set to the key 'username' in secret 'awx-asda-postgres-configuration'>  Optional: false
      POSTGRES_PASSWORD:          <set to the key 'password' in secret 'awx-asda-postgres-configuration'>  Optional: false
      PGDATA:                     /var/lib/postgresql/data/pgdata
      POSTGRES_INITDB_ARGS:       --auth-host=scram-sha-256
      POSTGRES_HOST_AUTH_METHOD:  scram-sha-256
    Mounts:
      /var/lib/postgresql/data from postgres-13 (rw,path="data")
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-p46wp (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  postgres-13:
    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)
    ClaimName:  postgres-13-awx-asda-postgres-13-0
    ReadOnly:   false
  kube-api-access-p46wp:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   Burstable
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:                      <none>
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ ^C
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ sudo kubectl describe pods/awx-asda-postgres-13-0 -n awx
[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cget job -A[K[K[Kall -A
NAMESPACE              NAME                                                   READY   STATUS             RESTARTS       AGE
kube-system            pod/svclb-traefik-f57c6271-l6s86                       2/2     Running            14 (25d ago)   93d
kube-system            pod/local-path-provisioner-5b5579c644-n22q4            1/1     Running            5 (25d ago)    93d
kube-system            pod/coredns-75fc8f8fff-tcmwp                           1/1     Running            5 (25d ago)    93d
kube-system            pod/traefik-9c6dc6686-ndmpr                            1/1     Running            5 (25d ago)    93d
awx                    pod/awx-asda-postgres-13-0                             1/1     Running            3 (25d ago)    93d
awx                    pod/awx-asda-786c757b57-79mcn                          4/4     Running            12 (25d ago)   92d
awx                    pod/awx-operator-controller-manager-585df5d96d-p92kj   2/2     Running            12 (25d ago)   93d
kube-system            pod/metrics-server-5c8978b444-84t4w                    1/1     Running            5 (25d ago)    93d
kube-system            pod/helm-install-traefik-t84qj                         0/1     ImagePullBackOff   0              93d
kubernetes-dashboard   pod/dashboard-metrics-scraper-64bcc67c9c-rzxfb         0/1     ImagePullBackOff   0              93d
kubernetes-dashboard   pod/kubernetes-dashboard-5c8bd6b59-zbxmx               0/1     ImagePullBackOff   0              93d

NAMESPACE              NAME                                                      TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE
default                service/kubernetes                                        ClusterIP      10.43.0.1       <none>        443/TCP                      653d
kube-system            service/kube-dns                                          ClusterIP      10.43.0.10      <none>        53/UDP,53/TCP,9153/TCP       653d
kube-system            service/metrics-server                                    ClusterIP      10.43.137.42    <none>        443/TCP                      653d
awx                    service/awx-operator-controller-manager-metrics-service   ClusterIP      10.43.81.119    <none>        8443/TCP                     653d
awx                    service/awx-asda-postgres-13                              ClusterIP      None            <none>        5432/TCP                     653d
kubernetes-dashboard   service/dashboard-metrics-scraper                         ClusterIP      10.43.41.20     <none>        8000/TCP                     584d
kubernetes-dashboard   service/kubernetes-dashboard                              NodePort       10.43.101.67    <none>        443:30244/TCP                584d
awx                    service/awx-asda-service                                  ClusterIP      10.43.248.30    <none>        80/TCP,443/TCP               653d
kube-system            service/traefik                                           LoadBalancer   10.43.102.240   10.16.14.30   80:31654/TCP,443:32341/TCP   653d

NAMESPACE     NAME                                    DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE
kube-system   daemonset.apps/svclb-traefik-f57c6271   1         1         1       1            1           <none>          653d

NAMESPACE              NAME                                              READY   UP-TO-DATE   AVAILABLE   AGE
kubernetes-dashboard   deployment.apps/kubernetes-dashboard              0/1     1            0           584d
kubernetes-dashboard   deployment.apps/dashboard-metrics-scraper         0/1     1            0           584d
kube-system            deployment.apps/local-path-provisioner            1/1     1            1           653d
kube-system            deployment.apps/coredns                           1/1     1            1           653d
kube-system            deployment.apps/traefik                           1/1     1            1           653d
awx                    deployment.apps/awx-asda                          1/1     1            1           653d
awx                    deployment.apps/awx-operator-controller-manager   1/1     1            1           653d
kube-system            deployment.apps/metrics-server                    1/1     1            1           653d

NAMESPACE              NAME                                                         DESIRED   CURRENT   READY   AGE
awx                    replicaset.apps/awx-asda-5b967555b7                          0         0         0       646d
kubernetes-dashboard   replicaset.apps/kubernetes-dashboard-5c8bd6b59               1         1         0       584d
kubernetes-dashboard   replicaset.apps/dashboard-metrics-scraper-64bcc67c9c         1         1         0       584d
awx                    replicaset.apps/awx-asda-54d6d4fbf8                          0         0         0       653d
kube-system            replicaset.apps/local-path-provisioner-5b5579c644            1         1         1       653d
kube-system            replicaset.apps/coredns-75fc8f8fff                           1         1         1       653d
kube-system            replicaset.apps/traefik-9c6dc6686                            1         1         1       653d
awx                    replicaset.apps/awx-asda-786c757b57                          1         1         1       92d
awx                    replicaset.apps/awx-operator-controller-manager-585df5d96d   1         1         1       653d
kube-system            replicaset.apps/metrics-server-5c8978b444                    1         1         1       653d

NAMESPACE   NAME                                    READY   AGE
awx         statefulset.apps/awx-asda-postgres-13   1/1     93d

NAMESPACE     NAME                                 COMPLETIONS   DURATION   AGE
kube-system   job.batch/helm-install-traefik-crd   1/1           8s         324d
kube-system   job.batch/helm-install-traefik       0/1           268d       268d
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ ^C
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ ^C
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ sudo kubectl get all -Adescribe pods/awx-asda-postgres-13-0 -n awx[K[K[Kpods/pod/traefik-9c6dc6686-ndmpr -n lkube[C[1Pkube-systemkube[C[C[C[C[Kkube-system
error: arguments in resource/name form may not have more than one slash
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ sudo kubectl describe pods/pod/traefik-9c6dc6686-ndmpr -n kube-system[1P[1P[1P[1P
Name:                 traefik-9c6dc6686-ndmpr
Namespace:            kube-system
Priority:             2000000000
Priority Class Name:  system-cluster-critical
Service Account:      traefik
Node:                 cvlauukaho-001a/10.16.14.30
Start Time:           Wed, 29 May 2024 14:39:04 +0100
Labels:               app.kubernetes.io/instance=traefik
                      app.kubernetes.io/managed-by=Helm
                      app.kubernetes.io/name=traefik
                      helm.sh/chart=traefik-12.0.000
                      pod-template-hash=9c6dc6686
Annotations:          prometheus.io/path: /metrics
                      prometheus.io/port: 9100
                      prometheus.io/scrape: true
Status:               Running
IP:                   10.42.2.9
IPs:
  IP:           10.42.2.9
Controlled By:  ReplicaSet/traefik-9c6dc6686
Containers:
  traefik:
    Container ID:  containerd://874a4d09ca9969b9013c9d135241a245f1cce23af34f560e6ba918e30ec339bc
    Image:         rancher/mirrored-library-traefik:2.9.1
    Image ID:      docker.io/rancher/mirrored-library-traefik@sha256:d27ee8fae2489dfff947d8ef57b8569d98be50df9c74cecca87207b03e1a4215
    Ports:         9100/TCP, 9000/TCP, 8000/TCP, 8443/TCP
    Host Ports:    0/TCP, 0/TCP, 0/TCP, 0/TCP
    Args:
      --global.checknewversion
      --global.sendanonymoususage
      --entrypoints.metrics.address=:9100/tcp
      --entrypoints.traefik.address=:9000/tcp
      --entrypoints.web.address=:8000/tcp
      --entrypoints.websecure.address=:8443/tcp
      --api.dashboard=true
      --ping=true
      --metrics.prometheus=true
      --metrics.prometheus.entrypoint=metrics
      --providers.kubernetescrd
      --providers.kubernetesingress
      --providers.kubernetesingress.ingressendpoint.publishedservice=kube-system/traefik
      --entrypoints.websecure.http.tls=true
    State:          Running
      Started:      Mon, 05 Aug 2024 02:18:45 +0100
    Last State:     Terminated
      Reason:       Unknown
      Exit Code:    255
      Started:      Mon, 01 Jul 2024 02:27:15 +0100
      Finished:     Mon, 05 Aug 2024 02:18:40 +0100
    Ready:          True
    Restart Count:  5
    Liveness:       http-get http://:9000/ping delay=2s timeout=2s period=10s #success=1 #failure=3
    Readiness:      http-get http://:9000/ping delay=2s timeout=2s period=10s #success=1 #failure=1
    Environment:    <none>
    Mounts:
      /data from data (rw)
      /tmp from tmp (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-lcl42 (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  data:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  tmp:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  kube-api-access-lcl42:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   BestEffort
Node-Selectors:              <none>
Tolerations:                 CriticalAddonsOnly op=Exists
                             node-role.kubernetes.io/control-plane:NoSchedule op=Exists
                             node-role.kubernetes.io/master:NoSchedule op=Exists
                             node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:                      <none>
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ sudo kubectl describe pods/traefik-9c6dc6686-ndmpr -n kube-system[C[28P[1@p[1@o[1@d[1@s[1@/[32@pod/svclb-traefik-f57c6271-l6s86[C[1P[1P[1P[1P
Name:             svclb-traefik-f57c6271-l6s86
Namespace:        kube-system
Priority:         0
Service Account:  svclb
Node:             cvlauukaho-001a/10.16.14.30
Start Time:       Wed, 29 May 2024 14:10:32 +0100
Labels:           app=svclb-traefik-f57c6271
                  controller-revision-hash=7d7dc87956
                  pod-template-generation=1
                  svccontroller.k3s.cattle.io/svcname=traefik
                  svccontroller.k3s.cattle.io/svcnamespace=kube-system
Annotations:      <none>
Status:           Running
IP:               10.42.2.8
IPs:
  IP:           10.42.2.8
Controlled By:  DaemonSet/svclb-traefik-f57c6271
Containers:
  lb-tcp-80:
    Container ID:   containerd://787b32492c43e690120d785290432113dbb295aee7b57d4119db84d5fb1ca9e3
    Image:          rancher/klipper-lb:v0.3.5
    Image ID:       docker.io/rancher/klipper-lb@sha256:02f8cb41d53fe08b5726a563ce36c3675ad7f2694b65a8477f6a66afac89fef7
    Port:           80/TCP
    Host Port:      80/TCP
    State:          Running
      Started:      Mon, 05 Aug 2024 02:18:43 +0100
    Last State:     Terminated
      Reason:       Unknown
      Exit Code:    255
      Started:      Mon, 01 Jul 2024 02:27:13 +0100
      Finished:     Mon, 05 Aug 2024 02:18:40 +0100
    Ready:          True
    Restart Count:  7
    Environment:
      SRC_PORT:    80
      SRC_RANGES:  0.0.0.0/0
      DEST_PROTO:  TCP
      DEST_PORT:   80
      DEST_IPS:    10.43.102.240
    Mounts:        <none>
  lb-tcp-443:
    Container ID:   containerd://15dd9ddb11129f2e6968b56f07c2e2a4690a05b9fc2d09df1f404ebae8aae428
    Image:          rancher/klipper-lb:v0.3.5
    Image ID:       docker.io/rancher/klipper-lb@sha256:02f8cb41d53fe08b5726a563ce36c3675ad7f2694b65a8477f6a66afac89fef7
    Port:           443/TCP
    Host Port:      443/TCP
    State:          Running
      Started:      Mon, 05 Aug 2024 02:18:43 +0100
    Last State:     Terminated
      Reason:       Unknown
      Exit Code:    255
      Started:      Mon, 01 Jul 2024 02:27:13 +0100
      Finished:     Mon, 05 Aug 2024 02:18:40 +0100
    Ready:          True
    Restart Count:  7
    Environment:
      SRC_PORT:    443
      SRC_RANGES:  0.0.0.0/0
      DEST_PROTO:  TCP
      DEST_PORT:   443
      DEST_IPS:    10.43.102.240
    Mounts:        <none>
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:            <none>
QoS Class:          BestEffort
Node-Selectors:     <none>
Tolerations:        CriticalAddonsOnly op=Exists
                    node-role.kubernetes.io/control-plane:NoSchedule op=Exists
                    node-role.kubernetes.io/master:NoSchedule op=Exists
                    node.kubernetes.io/disk-pressure:NoSchedule op=Exists
                    node.kubernetes.io/memory-pressure:NoSchedule op=Exists
                    node.kubernetes.io/not-ready:NoExecute op=Exists
                    node.kubernetes.io/pid-pressure:NoSchedule op=Exists
                    node.kubernetes.io/unreachable:NoExecute op=Exists
                    node.kubernetes.io/unschedulable:NoSchedule op=Exists
Events:             <none>
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ sudo kubectl describe pods/svclb-traefik-f57c6271-l6s86 -n kube-system Kget ingress -A
NAMESPACE   NAME                    CLASS    HOSTS                 ADDRESS       PORTS   AGE
awx         k3s-awx-http-redirect   <none>   ansiblecert.asda.uk   10.16.14.30   80      280d
awx         awx-asda-ingress        <none>   ansiblecert.asda.uk   10.16.14.30   80      641d
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ sudo kubectl describe ingress/awx-asda-ingress -n awx
Name:             awx-asda-ingress
Labels:           app.kubernetes.io/component=awx
                  app.kubernetes.io/managed-by=awx-operator
                  app.kubernetes.io/name=awx-asda
                  app.kubernetes.io/operator-version=1.0.0
                  app.kubernetes.io/part-of=awx-asda
Namespace:        awx
Address:          10.16.14.30
Ingress Class:    <none>
Default backend:  <default>
Rules:
  Host                 Path  Backends
  ----                 ----  --------
  ansiblecert.asda.uk  
                       /   awx-asda-service:80 (10.42.2.18:8052)
Annotations:           <none>
Events:                <none>
]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ 





=~=~=~=~=~=~=~=~=~=~=~= PuTTY log 2024.08.30 17:40:38 =~=~=~=~=~=~=~=~=~=~=~=
login as: vn57a7f
vn57a7f@10.16.14.30's password: 
Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-190-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Fri 30 Aug 17:40:57 BST 2024

  System load:  2.1                Processes:               360
  Usage of /:   53.7% of 57.40GB   Users logged in:         2
  Memory usage: 56%                IPv4 address for cni0:   10.42.2.1
  Swap usage:   100%               IPv4 address for ens160: 10.16.14.30


Expanded Security Maintenance for Applications is not enabled.

40 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings


*** System restart required ***
-------------------------------
Purpose:- Ansible AWX
Built By:- Gavin Dye
Owner:- Compute
-------------------------------    
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Fri Aug 30 10:59:28 2024 from 10.16.112.251

]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ 
[K]0;vn57a7f@cvlauukaho-001a: ~vn57a7f@cvlauukaho-001a:~$ sudo su -
[sudo] password for vn57a7f: 
]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# 
]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# pwd
/root
]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# cd [K[K[Kll
total 176
drwx------ 11 root root   4096 Aug 30 14:29 [0m[01;34m.[0m/
drwxr-xr-x 22 root root   4096 Mar 13  2023 [01;34m..[0m/
drwxr-xr-x  2 root root   4096 May 28 13:10 [01;34m.awx[0m/
-rw-r--r--  1 root root      0 Nov 28  2022 awx-asda.yaml
-rw-------  1 root root  54622 Aug 30 14:29 .bash_history
-rw-r--r--  1 root root   3106 Dec  5  2019 .bashrc
drwxr-xr-x  3 root root   4096 May 28 12:14 [01;34m.cache[0m/
-rw-r--r--  1 root root   2033 Nov 15  2022 cert.pem
drwx------  3 root root   4096 Mar 13  2023 [01;34m.config[0m/
drwx------  2 root root   4096 Mar 13  2023 [01;34m.gnupg[0m/
-rwx------  1 root root  23269 Mar  9  2023 [01;32minstall_linux_azcmagent.sh[0m*
-rw-------  1 root root   3414 Nov 15  2022 key.pem
drwxr-x---  3 root root   4096 Nov  3  2022 [01;34m.kube[0m/
drwxr-xr-x  3 root root   4096 Apr 21  2022 [01;34m.local[0m/
drwxr-xr-x  2 root mdatp  4096 Apr  4  2023 [01;34m.osquery[0m/
-rw-------  1 root root   1766 Nov 15  2022 private.key
-rw-r--r--  1 root root    161 Dec  5  2019 .profile
-rw-r--r--  1 root root   1261 Nov 15  2022 pvlauukslo.crt
-rw-r--r--  1 root root   1058 Nov 15  2022 request.csr
-rw-------  1 root root   1024 May  6 02:10 .rnd
drwx------  3 root root   4096 Apr 21  2022 [01;34msnap[0m/
drwx------  2 root root   4096 Nov 24  2023 [01;34m.ssh[0m/
-rw-------  1 root root  16047 Aug  6 15:49 .viminfo
-rw-r--r--  1 root root    211 Aug 30 01:02 .wget-hsts
]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# cd so[K[K[K[K[Khistory
 1000  kubctl get pods -n awx
 1001  kubectl get pods -n awx
 1002  kubectl get svc -n awx
 1003  kubectl get svc awx-asda-postgres-13 -n awx -o yaml
 1004  kubectl get svc -n awx
 1005  kubectl get pods -n awx -o wide
 1006  PGPASSWORD="elprUjd2N2lCWHk2TWpsU2hsdHFibXcxRFJGR0tuYXI=" pg_dump -h 10.42.0.59:5432 -U awx > /tmp/awx_backup/awx_backup.sql
 1007  kubectl get svc -n awx
 1008  kubectl exec -it awx-asda-postgres-13-0 -n awx -- bash
 1009  kubectl cp awx/awx-asda-postgres-13-0:/tmp/awx_backup.sql /tmp/awx_backup/awx_backup.sql
 1010  cd /tmp/awx_backup/
 1011  ls
 1012  ls -ltr
 1013  du -sh *
 1014  awx-export > /tmp/awx_backup/awx_config.json
 1015  pip install ansible-tower-cli
 1016  apt install python3-pip
 1017  pip install ansible-tower-cli
 1018  cat /etc/environment 
 1019  nano /etc/environment 
 1020  pip install ansible-tower-cli
 1021  su -
 1022  exit
 1023  nano ~/.awx/cli-config
 1024  ls -a
 1025  ls -al
 1026  pwd
 1027  cd /home/awx/
 1028  ls -la
 1029  cd .ansible/
 1030  ls
 1031  exit
 1032  awx config view
 1033  exit
 1034  nano ~/.awx/cli-config
 1035  mkdir ~/.awx
 1036  nano ~/.awx/cli-config
 1037  ls -la
 1038  cd /root
 1039  ls -la
 1040  awx config view
 1041  sudo su
 1042  exit
 1043  kubectl get namespaces
 1044  # Step 2: List all secrets in the AWX namespace (assuming the namespace is 'awx')
 1045  kubectl get secrets -n awx
 1046  kubectl describe secret awx-asda-postgres-configuration -n awx
 1047  kubectl get secret awx-asda-postgres-configuration -n awx -o jsonpath="{.data.postgresql-password}" | base64 --decode
 1048  ls
 1049  cd /tmp
 1050  ls
 1051  mkdir
 1052  mkdir awx
 1053  cd awx/
 1054  kubectl describe secret awx-asda-postgres-configuration -n awx
 1055  kubectl get secret awx-asda-postgres-configuration -n awx -o jsonpath="{.data.postgres-password}" | base64 --decode
 1056  kubectl get secret awx-asda-postgres-configuration -n awx -o json
 1057  kubectl get secret awx-asda-postgres-configuration -n awx -o jsonpath="{.data.<key>}" | base64 --decode
 1058  ls
 1059  PGPASSWORD="elprUjd2N2lCWHk2TWpsU2hsdHFibXcxRFJGR0tuYXI=" pg_dump -h localhost -U awx > /tmp/awx_backup/awx_backup.sql
 1060  mkdir /tmp/awx_backup
 1061  PGPASSWORD="elprUjd2N2lCWHk2TWpsU2hsdHFibXcxRFJGR0tuYXI=" pg_dump -h localhost -U awx > /tmp/awx_backup/awx_backup.sql
 1062  apt install postgresql-client-common
 1063  PGPASSWORD="elprUjd2N2lCWHk2TWpsU2hsdHFibXcxRFJGR0tuYXI=" pg_dump -h localhost -U awx > /tmp/awx_backup/awx_backup.sql
 1064  apt install postgresql-client-16
 1065  apt install postgresql-client-15
 1066  postgresql-client-16
 1067  sudo apt-get update
 1068  sudo apt-get install postgresql-client
 1069  PGPASSWORD="elprUjd2N2lCWHk2TWpsU2hsdHFibXcxRFJGR0tuYXI=" pg_dump -h localhost -U awx > /tmp/awx_backup/awx_backup.sql
 1070  kubectl get svc -n awx
 1071  kubectl get pods -n awx
 1072  kubectl port-forward awx-asda-postgres-13-0 5432:5432 -n awx
 1073  PGPASSWORD="elprUjd2N2lCWHk2TWpsU2hsdHFibXcxRFJGR0tuYXI=" pg_dump -h localhost -U awx > /tmp/awx_backup/awx_backup.sql
 1074  kubectl get pods -n awx
 1075  kubectl get svc -n awx
 1076  kubectl port-forward awx-asda-postgres-13-0 5432:5432 -n awx
 1077  kubectl port-forward awx-asda-postgres-13 5432:5432 -n awx
 1078  kubectl port-forward awx-asda-postgres-13-0 5432:5432 -n awx
 1079  kubectl port-forward awx-asda-postgres-13 5432:5432 -n awx
 1080  kubectl describe secret awx-asda-postgres-configuration -n awx
 1081  kubectl get secret awx-asda-postgres-configuration -n awx -o jsonpath="{.data.postgres-password}" | base64 --decode
 1082  kubectl get secret awx-asda-postgres-configuration -n awx -o json
 1083  PGPASSWORD="elprUjd2N2lCWHk2TWpsU2hsdHFibXcxRFJGR0tuYXI=" pg_dump -h YXd4LWFzZGEtcG9zdGdyZXMtMTM=:NTQzMg== -U awx > /tmp/awx_backup/awx_backup.sql
 1084  PGPASSWORD="elprUjd2N2lCWHk2TWpsU2hsdHFibXcxRFJGR0tuYXI=" pg_dump -h YXd4LWFzZGEtcG9zdGdyZXMtMTM= -U awx > /tmp/awx_backup/awx_backup.sql
 1085  PGPASSWORD="elprUjd2N2lCWHk2TWpsU2hsdHFibXcxRFJGR0tuYXI=" pg_dump -h 127.0.0.1 -U awx > /tmp/awx_backup/awx_backup.sql
 1086  PGPASSWORD="elprUjd2N2lCWHk2TWpsU2hsdHFibXcxRFJGR0tuYXI=" pg_dump -h localhost:5432 -U awx > /tmp/awx_backup/awx_backup.sql
 1087  kubectl port-forward svc/awx-asda-postgres-13 5432:5432 -n awx
 1088  kubectl get svc awx-asda-postgres-13 -n awx -o yaml
 1089  kubectl port-forward svc/postgres-13-awx-asda 5432:5432 -n awx
 1090  kubectl port-forward svc/awx-asda-postgres-13 5432:5432 -n awx
 1091  kubectl get pods -n awx
 1092  kubectl port-forward pod/awx-asda-postgres-13-0 5432:5432 -n awx
 1093  nano ./awx_export.sh
 1094  ./awx_export.sh
 1095  export TOWER_HOST=https://ansible.asda.uk
 1096  export TOWER_USERNAME=awxadmin
 1097  export TOWER_PASSWORD=Ans1bl3AWXK3s
 1098  export TOWER_VERIFY_SSL=false
 1099  tower-cli config
 1100  tower-cli receive --all > full_backup.json
 1101  awx export
 1102  awx -v export
 1103  ls
 1104  awx -v export > full_backup.json
 1105  OUTPUT_DIR="./awx_backup"
 1106  mkdir -p $OUTPUT_DIR
 1107  ls
 1108  awx job_templates list --all > $OUTPUT_DIR/job_templates.json
 1109  awx -v job_templates list --all > $OUTPUT_DIR/job_templates.json
 1110  cd awx_backup/
 1111  chmod 777 /home/awx/awx_backup/
 1112  chmod +x awx_restore.sh 
 1113  ./awx_restore.sh
 1114  chmod +x import_awx.sh
 1115  ./awx_import.sh
 1116  chmod +x awx_import.sh
 1117  cd ..
 1118  cd awx_backup/
 1119  ls
 1120  chmod +x awx_import.sh
 1121  chmod +x awx_restore.sh
 1122  ./awx_restore.sh
 1123  hostnamectl 
 1124  hostnamectl set-hostname cvlauukaho-001a
 1125  cd /etc/network
 1126  ls
 1127  cd ..
 1128  ls
 1129  ls -ltr
 1130  cd netplan/
 1131  ls
 1132  ls -ltr
 1133  vi 99-netcfg-vmware.yaml 
 1134  kubectl get pods -A
 1135  shutdown -r now
 1136  kubectl get nodes
 1137  kubectl get  pods -A
 1138  kubectl get  pods -n awx
 1139  kubectl get svc -a
 1140  kubectl get secrets -a
 1141  kubectl get secrets -A
 1142  kubectl get secret -n awx awx-prod-tls -o yaml
 1143  ls-ltr
 1144  ls -ltr
 1145  cd /home/awx/
 1146  ls
 1147  ls -ltr
 1148  mv Prod\ Environment\ Files/ Prod_Env_Files
 1149  mv Cert\ Environment\ Files/ Cert_Env_Files
 1150  ls -ltr
 1151  cd Prod_Env_Files/
 1152  ls
 1153  ls -ltr
 1154  cd ..
 1155  ls -ltr
 1156  cd Cert_Env_Files/
 1157  ls
 1158  mv Cert\ Files/ Cert_Files
 1159  cd Cert_Files/
 1160  ls
 1161  ls -ltr
 1162  more awx-asdacert-ingress.yaml
 1163  kubectl get secrets -A
 1164  ls -al
 1165  cd ..
 1166  ls -la
 1167  cat awx-asdacert-ingress.yaml 
 1168  history
 1169  kubectl get all -A
 1170  kubectl edit ingress awx-ingress -n awx
 1171  kubectl get ingress -A
 1172  kubectl edit ingress awx-asda-ingress -n awx
 1173  kubectl get secret -A 
 1174  kubectl get secret -n awx  awx-prod-tls  -o yaml
 1175  ls
 1176  cd Secret_Files/
 1177  ls
 1178  cat awx-cert-tls.yaml 
 1179  kubectl apply -f awx-cert-tls.yaml
 1180  kubectl get secret -n awx
 1181  kubectl delete secret awx-prod-tls -n awx
 1182  kubectl get svc -A
 1183  kubectl get secret -n awx awx-asda-postgres-13 -o yaml
 1184  kubectl get svc -n awx awx-asda-postgres-13 -o yaml
 1185  kubectl get secret -n awx
 1186  kubectl get secret -n awx awx-asda-postgres-configuration
 1187  kubectl get secret -n awx awx-asda-postgres-configuration -o yaml
 1188  kubectl edit secret -n awx awx-asda-postgres-configuration -o yaml
 1189  kubectl get nodes
 1190  kubectl get pvc
 1191  kubectl get pvc -A
 1192  kubectl get pods -all-namespaces
 1193  kubectl get pods --all-namespaces
 1194  kubectl get nodes -o wide
 1195  kubectl drain pvlauukslo-002a
 1196  kubectl get deploy -A
 1197  kubectl get job
 1198  kubectl get job -n awx
 1199  kubectl get ds -A
 1200  kubectl get ds -n awx
 1201  kubectl drain pvlauukslo-002a --ignore-daemonsets --delete-emptydir-data 
 1202  kubectl drain pvlauukslo-002a --ignore-daemonsets --delete-emptydir-data --force 
 1203  kubectl  get pvc -A
 1204  kubectl describe -n awx postgres-13-awx-asda-postgres-13-0 -o yaml
 1205  kubectl describe -n awx postgres-13-awx-asda-postgres-13-0
 1206  kubectl describe pvc -n awx postgres-13-awx-asda-postgres-13-0
 1207  kubectl describe pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1208  kubectl get pods -n awx
 1209  kubectl delete pod -n awx automation-job-19244-g7k9q --force
 1210  kubectl get pods -n awx
 1211  kubectl delete pod -n awx automation-job-19212-fhxlc --force
 1212  kubectl get pods -n awx
 1213  kubectl delete pod -n awx awx-operator-controller-manager-585df5d96d-gb6lf --force
 1214  kubectl delete pod -n awx awx-asda-postgres-13-0 --force
 1215  kubectl get pods -n awx
 1216  kubectl delete pod -n awx awx-asda-54d6d4fbf8-hs6g6 --force
 1217  kubectl get pods -n awx
 1218  kubectl get pods -A
 1219  kubectl get pods -A -o wide
 1220  kubectl get pods -A -o wide 
 1221  kubectl get pod -n kube-system
 1222  kubectl get pods -A -o wide | grep -i pvlauukred-002a
 1223  kubectl delete pod -n kube-system dashboard-metrics-scraper-64bcc67c9c-mdsq6 --force
 1224  kubectl get pods -A -o wide | grep -i pvlauukred-002a
 1225  kubectl get pods -A -o wide 
 1226  kubectl get pods -A -o wide | grep -i pvlauukslo-002a
 1227  kubectl delete pod -n kube-system svclb-traefik-f57c6271-29fwk
 1228  kubectl delete pod -n kube-system svclb-traefik-f57c6271-29fwk --force
 1229  kubectl get pods -A -o wide | grep -i pvlauukslo-002a
 1230  kubectl delete pod -n kube-system local-path-provisioner-5b5579c644-jgc9s --force
 1231  kubectl delete pod -n kube-system metrics-server-5c8978b444-4n9hc --force
 1232  kubectl delete pod -n kube-system coredns-75fc8f8fff-5rsr8 --force
 1233  kubectl delete pod -n kube-system traefik-9c6dc6686-6gb5t --force
 1234  kubectl delete pod -n kube-system helm-install-traefik-rtmxn --force
 1235  kubectl get pods -A -o wide | grep -i pvlauukslo-002a
 1236  kubectl get pods -A -o wide | grep -i pvlauukred-002a
 1237  kubectl delete pod -n kube-system svclb-traefik-f57c6271-l9d7k --force
 1238  kubectl delete pod -n kube-system dashboard-metrics-scraper-64bcc67c9c-mdsq6 --force
 1239  kubectl delete pod -n kube-system kubernetes-dashboard-5c8bd6b59-qmfl4 --force
 1240  kubectl get nodes
 1241  kubectl delete node pvlauukred-002a
 1242  kubectl get nodes
 1243  kubectl get pods -n awx
 1244  kubectl describe pod awx-asda-postgres-13-0 -n awx
 1245  kubectl get pvc -A
 1246  kubectl describe postgres-13-awx-asda-postgres-13-0 -n awx
 1247  kubectl describe pvc postgres-13-awx-asda-postgres-13-0 -n awx
 1248  kubectl edit pvc postgres-13-awx-asda-postgres-13-0 -n awx -o yaml
 1249  kubectl get pods -n awx
 1250  kubectl delete pod -n awx awx-asda-postgres-13-0
 1251  kubectl get pods -n awx
 1252  kubectl describe pvc postgres-13-awx-asda-postgres-13-0 -n awx
 1253  kubectl get pvc -A
 1254  kubectl describe pvc awx-asda-projects-claim -n awx
 1255  kubectl edit pvc awx-asda-projects-claim -n awx
 1256  kubectl get pods -n awx
 1257  kubectl describe pod -n awx awx-asda-postgres-13-0
 1258  kubectl get pv -A
 1259  kubectl get nodes
 1260  kubectl delete node pvlauukslo-002a
 1261  kubectl get nodes
 1262  kubectl get pods -n awx
 1263  kubectl get pods -n awx -o wide
 1264  kubectl delete pod -n awx awx-asda-postgres-13-0
 1265  kubectl get pods -n awx -o wide
 1266  kubectl get statefulset -A
 1267  kubectl edit statefulset -n awx awx-asda-postgres-13
 1268  kubectl get statefulset -n awx awx-asda-postgres-13 -o yaml >/home/awx/awx-asda-postgres-13_statefulset.yaml
 1269  vi /home/awx/awx-asda-postgres-13_statefulset.yaml
 1270  kubectl delete statefulset -n awx awx-asda-postgres-13
 1271  kubectl get pods -n awx -o wide
 1272  kubectl apply -f /home/awx/awx-asda-postgres-13_statefulset.yaml  -n awx 
 1273  kubectl get pods -n awx -o wide
 1274  kubectl describe pod -n awx awx-asda-postgres-13-0
 1275  kubectl get pv -A
 1276  kubectl describe pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1277  kubectl edit  pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1278  kubectl get pv -A
 1279  kubectl get pvc -A
 1280  kubectl edit pvc -n awx postgres-13-awx-asda-postgres-13-0
 1281  kubectl edit  pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1282  cd /var/lib/rancher/k3s/storage/pvc-a8596565-0200-4906-956e-53655d2ae54b_awx_postgres-13-awx-asda-postgres-13-0
 1283  cd /
 1284  kubectl edit  pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1285  kubectl get node cvlauukaho-001a --show-labels
 1286  kubectl get pv -A
 1287  kubectl decribe pv pvc-ccefb34f-6669-4ce3-9c1e-2974b51eb735
 1288  kubectl describe pv pvc-ccefb34f-6669-4ce3-9c1e-2974b51eb735
 1289  kubectl describe pv pvc-a8596565-0200-4906-956e-53655d2ae54b
 1290  kubectl edit  pv pvc-a8596565-0200-4906-956e-53655d2ae54b
 1291  cd /source/
 1292  ls
 1293  ls -ltr
 1294  cp postgres.yaml postgresn.yaml
 1295  vi postgresn.yaml
 1296  kubectl apply -f postgresn.yaml --dry-run=client
 1297  kubectl apply -f postgresn.yaml
 1298  kubectl create --save-config
 1299  vi postgresn.yaml
 1300  kubectl get pvc -n awx
 1301  kubectl edit pvc postgres-13-awx-asda-postgres-13-0 -n awx
 1302  ls -ltr
 1303  kubectl get pv -n awx
 1304  kubectl get pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx -o yaml > pv.yaml
 1305  kubectl get pv  pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx -o yaml > pv.yaml
 1306  vi pv.yaml 
 1307  kubectl apply -f pv.yaml --dry-run-client
 1308  kubectl apply -f pv.yaml --dryrun-client
 1309  kubectl apply -f pv.yaml --dry-run=client
 1310  kubectl apply -f pv.yaml
 1311  kubectl get nodes --show-labels
 1312  vi pv.yaml 
 1313  shutdown -h now
 1314  kubectl get nodes --show-labels
 1315  kubectl get pods -A
 1316  kubectl describe pod awx-asda-postgres-13-0 -n awx
 1317  vi pv.yaml 
 1318  cd /source/
 1319  vi pv.yaml 
 1320  kubectl edit pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx -o yaml 
 1321  kubectl edit pv pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx -o yaml 
 1322  kubectl get pv -o wide
 1323  kubectl get pv -n awx postgres-13-awx-asda-postgres-13-0 -o yaml > pvcpostgres-13.yaml
 1324  kubectl get pvc -n awx postgres-13-awx-asda-postgres-13-0 -o yaml > pvcpostgres-13.yaml
 1325  kubectl delete pvc awx/postgres-13-awx-asda-postgres-13-0
 1326  kubectl delete pvc -n awx postgres-13-awx-asda-postgres-13-0
 1327  kubectl delete pv pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx
 1328  kubectl get pv -o wide
 1329  ls -ltr
 1330  kubectl apply -f pvcpostgres-13.yaml
 1331  kubectl get pv -o wide
 1332  kubectl get pvc -o wide
 1333  kubectl get pvc -o wide -n awx
 1334  kubectl describe pvc postgres-13-awx-asda-postgres-13-0 -n awx
 1335  kubectl get pvc -o wide
 1336  ls -ltr
 1337  kubectl apply -f pv.yaml 
 1338  kubectl get pvc -o wide
 1339  kubectl get pvc -o wide -n awx
 1340  kubectl get pv -o wide
 1341  kubectl get pod -A
 1342  kubectl delete pod awx-asda-postgres-13-0 -n awx
 1343  kubectl get pod -A
 1344  kubectl describe pod awx-asda-postgres-13-0-n awx
 1345  kubectl describe pod awx-asda-postgres-13-0 -n awx
 1346  kubectl describe pvc postgres-13-awx-asda-postgres-13-0 -n awx
 1347  kubectl get pv -n awx postgres-13-awx-asda-postgres-13-0 -o yaml 
 1348  kubectl get pv -n awx
 1349  kubectl get pv pvc-a8596565-0200-4906-956e-53655d2ae54b -n awx -o yaml
 1350  kubectl get pv -o wide
 1351  kubectl get pvc  -o wide
 1352  kubectl get pvc  -o wide -n awx
 1353  cd /var/lib/rancher/k3s/storage/pvc-a8596565-0200-4906-956e-53655d2ae54b_awx_postgres-13-awx-asda-postgres-13-0
 1354  ls
 1355  cd data/
 1356  ls
 1357  cg pgdata/
 1358  cd pgdata/
 1359  ls
 1360  ls -ltr
 1361  kubectl get pvc  -o wide -n awx
 1362  kubectl get pod -o wide
 1363  kubectl get pod  -n awx-o wide
 1364  kubectl get pod  -n awx -o wide
 1365  cd /source/
 1366  ls -ltr
 1367  more pvcpostgres-13.yaml
 1368  kubectl get pvc  -o wide -n awx
 1369  kubectl get pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b -o yaml
 1370  ls -ltr
 1371  vi pv.yaml 
 1372  kubectl apply -f pv.yaml
 1373  kubectl apply -f pv.yaml -n awx
 1374  clear
 1375  vi pv.yaml 
 1376  kubectl get pvc  -o wide -n awx
 1377  #
 1378  kubectl patch pv pvc-a8596565-0200-4906-956e-53655d2ae54b -p '{"spec":{"persistentVolumeReclaimPolicy":"Retain"}}'
 1379  kubectl get pvc  -o wide -n awx
 1380  kubectl get pv -n awx -o wide
 1381  kubectl delete pvc -n awx postgres-13-awx-asda-postgres-13-0
 1382  kubectl get pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b
 1383  kubectl get pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b -o yaml
 1384  kubectl edit pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b -o yaml
 1385  kubectl get pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b -o yaml > pv_pvc.yaml
 1386  kubectl edit pv -n awx pvc-a8596565-0200-4906-956e-53655d2ae54b -o yaml
 1387  ls -ltr
 1388  cat pvcpostgres-13.yaml
 1389  kubectl apply -y pvcpostgres-13.yaml
 1390  kubectl apply -f pvcpostgres-13.yaml
 1391  kubectl get pvc  -o wide -n awx
 1392  kubectl get pv  -o wide -n awx
 1393  kubectl get pods 
 1394  kubectl get deploy -n awx
 1395  kubectl get pod -n awx
 1396  systemctl stop k3s.service 
 1397  systemctl start k3s.service 
 1398  kubectl get pod -n awx
 1399  kubectl describe deplot awx-asda -n awx
 1400  kubectl describe deploy awx-asda -n awx
 1401  kubectl get  deploy awx-asda -n awx -o yaml > awx-asdadeploy.yaml
 1402  kubectl apply -f awx-asdadeploy.yaml 
 1403  kubectl get pod -n awx
 1404  kubectl get deploy -n awx
 1405  cat /etc/environment 
 1406  kubectl get deploy -n awx -o wide
 1407  kubectl get network-policy -n -awx
 1408  kubectl get net -n -awx
 1409  kubectl get networkpolicy -n -awx
 1410  kubectl get networkpolicy 
 1411  kubectl get networkpolicy -A
 1412  kubectl rollout restart deployment  awx-asda -n awx
 1413  kubectl get deploy -n awx -o wide
 1414  kubectl describe  deploy -n awx -o wide
 1415  kubectl describe  deploy  awx-asda -n awx -o wide
 1416  kubectl describe  deploy  awx-asda -n awx 
 1417  kubectl get deploy -n awx -o wide
 1418  #kubectl scale deployment <deployment-name> --replicas=1 -n <namespace>
 1419  kubectl scale deployment awx-asda  --replicas=1 -n awx
 1420  kubectl get deploy -n awx -o wide
 1421  kubectl get pod -n awx -o wide
 1422  kubectl get events -A
 1423  kubectl get svc -n awx
 1424  kubectl get awx-asda-service -n awx -o yaml
 1425  kubectl get svc  awx-asda-service -n awx -o yaml
 1426  kubectl get ingress -n awx
 1427  kubectl describe ingress k3s-awx-http-redirect -n awx
 1428  nslookup 10.16.14.30
 1429  ip addr
 1430  kubectl get ingress -n awx
 1431  kubectl describe awx-asda-ingress -n awx
 1432  kubectl describe ingress  awx-asda-ingress -n awx
 1433  kubectl edit ingress  awx-asda-ingress -n awx -o yaml
 1434  kubectl describe ingress  awx-asda-ingress -n awx
 1435  kubectl get ingress -n awx
 1436  ls -ltr
 1437  vi middleware_ingress.yaml
 1438  vi traefik-config.yaml
 1439  vi traefik-truststore.yaml
 1440  kubectl get secrtes -A
 1441  kubectl get secret -A
 1442  l s-ltr
 1443  ls -ltr
 1444  vi traefik-truststore.yaml
 1445  vi traefik-config.yaml
 1446  kubectl aaply -f traefik-truststore.yaml
 1447  kubectl apply -f traefik-truststore.yaml
 1448  kubectl apply -f middleware_ingress.yaml
 1449  ls
 1450  ls -ltr
 1451  vi traefik.yaml 
 1452  diff traefik_backup.yaml_241123 traefik.yaml
 1453  kubectl get pods -A
 1454  shutdown -r now
 1455  kubectl get nodes --show-labels
 1456  kubectl get pods -n awx -o wide
 1457  kubectl get nodes --show-labels
 1458  kubectl get pods -A
 1459  kubectl get ingress -n awx
 1460  export HTTP_PROXY=http://10.1.216.28:3128
 1461  export HTTPS_PROXY=http://10.1.216.28:3128
 1462  export NO_PROXY=127.0.0.1,localhost,.asda.uk
 1463  cat /etc/environment 
 1464  df -h
 1465  kubectl get pods -n awx -o wide
 1466  kubectl get configmap -A
 1467  kubectl decribe cm -n awx awx-operator
 1468  kubectl describe cm -n awx awx-operator
 1469  kubectl describe cm -n awx awx-operator awx-asda-awx-configmap
 1470  kubectl describe cm -n awx awx-operator awx-asda-awx-configmap | grep -i pvla
 1471  kubectl get configmap -A
 1472  kubectl describe cm -n awx awx-operator awx-operator-awx-manager-config | grep -i pvla
 1473  kubectl get ingress -A
 1474  cd /source/
 1475  ls
 1476  vi middleware_ingress.yaml 
 1477  ls -ltr
 1478  kubectl get ingress -A
 1479  kubectl get ingress -n awx awx-asda-ingress -o yaml > awx-asda-ingress.yaml
 1480  vi awx-asda-ingress.yaml
 1481  kubectl apply -f awx-asda-ingress.yaml
 1482  kubectl get ingress -A
 1483  helm list -n awx
 1484  kubectl ingress -A
 1485  kubectl get  ingress -A
 1486  kubectl describe ingress -n awx awx-asda-ingress
 1487  kubectl get events -A
 1488  kubectl ingress -A
 1489  kubectl get ingress -A
 1490  kubectl get ingress -n default
 1491  ls -ltr
 1492  vi awx-asda-ingress.yaml
 1493  vi awx-asda.yaml
 1494  kubectl apply -f awx-asda.yaml 
 1495  kubectl get ingress -n default
 1496  kubectl get ingress -A
 1497  vi kustomization.yaml 
 1498  kubectl get all -A | more
 1499  kubectl get ingress -A
 1500  kubectl describe ingress  -n awx  awx-asda-ingress
 1501  kubectl get svc -n awx awx-asda-service
 1502  kubectl get svc -n awx awx-asda-service -o yaml
 1503  kubectl get svc -n awx awx-asda-service -o yaml | grep -i pvl
 1504  kubectl get secret -A
 1505  kubectl get secret -A -n awx
 1506  kubectl get secret -n awx
 1507  kubectl get secret awx-cert-tls -n awx
 1508  kubectl get secret awx-cert-tls -n awx -o yaml
 1509  kubectl get secret -n awx
 1510  kubectl get secret awx-asda-receptor-ca -n awx -o yaml
 1511  kubectl get awx -n awx
 1512  kubectl describe awx -n awx -o yaml
 1513  kubectl describe awx-asda -n awx -o yaml
 1514  kubectl describe awx awx-asda -n awx -o yaml
 1515  kubectl get awx -n awx
 1516  kubectl get awx -n awx -o yaml
 1517  kubectl edit awx -n awx -o yaml
 1518  kubectl get secret -A
 1519  kubectl get secret -A -n awx
 1520  kubectl get secret -n awx
 1521  kubectl get nodes
 1522  kubectl get pods -A
 1523  kubectl get all -n awx
 1524  kubectl get pvc -n awx
 1525  df -h
 1526  kubectl get svc -n awx
 1527  kubectl get pods -n awx
 1528  kubectl describe deployment.apps/awx-asda
 1529  kubectl describe deployment.apps/awx-asda -n awx
 1530  kubectl describe deployment.apps/awx-operator-controller-manager -n awx
 1531  kubectl get events -A
 1532  cat /etc/resolv.conf 
 1533  cd /etc/systemd/
 1534  vi resolved.conf 
 1535  ls -l resolved.conf 
 1536  uptime
 1537  kubectl get pods -n awx
 1538  uname -a
 1539  kubectl get events -A
 1540  kubectl get deployments -A
 1541  kubectl get deployments -n awx awx-asda -o yaml
 1542  cat /etc/systemd/system/k3s.service
 1543  cat /etc/systemd/system/k3s.service.env
 1544  cd /var/log/unattended-upgrades/
 1545  ls -ltr
 1546  cat unattended-upgrades-dpkg.log
 1547  apt install net-tools mlocate krb5-user samba sssd sssd-tools libnss-sss libpam-sss realmd adcli ntp ntpdate ncdu cockpit
 1548  cat /etc/krb5.conf 
 1549  vi /etc/krb5.conf 
 1550  vi /etc/sssd/sssd.conf 
 1551  vi /etc/pam.d/common-session
 1552  visudo
 1553  EDITOR=vi export EDITOR
 1554  EDITOR=vi;export EDITOR
 1555  visudo
 1556  systemctl restart sssd.service 
 1557  ssh vn55epw@cvlauukaho-001a
 1558  id
 1559  kubectl get pods -A
 1560  kubectl get svc -n awx
 1561  kubectl describe svc -n awx  awx-asda-service
 1562  df -h
 1563  cd /run/k3s/containerd
 1564  ll
 1565  cd io.containerd.runtime.v1.linux/
 1566  ll
 1567  cd
 1568  kubectl get pods
 1569  kubectl get pods --all-namespaces
 1570  kubectl get pvc
 1571  cd /var/lib/rancher/
 1572  ll
 1573  cd k3s/
 1574  ll
 1575  cd server/
 1576  ll
 1577  cd
 1578  kubectl get pods --all-namespaces
 1579  kubectl describe pods awx-asda-postgres-13-0 -n awx
 1580  cd /data
 1581  ll
 1582  df -h /data
 1583  cd /var/lib/postgresql/data
 1584  cd /var/lib/postgresql/
 1585  cd /var/lib/
 1586  ll
 1587  cd rancher/
 1588  ll
 1589  cd k3s/
 1590  ll
 1591  cd storage/
 1592  ll
 1593  cd pvc-a8596565-0200-4906-956e-53655d2ae54b_awx_postgres-13-awx-asda-postgres-13-0/
 1594  ll
 1595  cd data
 1596  ll
 1597  cd pgdata/
 1598  ll
 1599  cd ../../
 1600  ll
 1601  cd ../
 1602  ll
 1603  cd pvc-ccefb34f-6669-4ce3-9c1e-2974b51eb735_awx_awx-asda-projects-claim/
 1604  ll
 1605  cd var/
 1606  ll
 1607  cd lib/
 1608  ll
 1609  cd awx/
 1610  ll
 1611  cd projects/
 1612  ll
 1613  pwd
 1614  ll
 1615  df -h
 1616  cd
 1617  exit
 1618  df -h
 1619  kubectl get nodes
 1620  kubectl get pods -n awx
 1621  kubectl get pods -A
 1622  kubectl logs pod dashboard-metrics-scraper-64bcc67c9c-rzxfb -n kubernetes-dashboard 
 1623  kubectl logs pods dashboard-metrics-scraper-64bcc67c9c-rzxfb -n kubernetes-dashboard 
 1624  kubectl logs dashboard-metrics-scraper-64bcc67c9c-rzxfb -n kubernetes-dashboard 
 1625  kubectl logs kubernetes-dashboard-5c8bd6b59-zbxmx -n kubernetes-dashboard 
 1626  kubectl get events -n kubernetes-dashboard
 1627  kubectl get events -n awx
 1628  kubectl  get pvs
 1629  kubectl  get pvs -A
 1630  kubectl  get pvc -A
 1631  kubectl  get pv 
 1632  kubectl  get volume 
 1633  kubectl  get all -A
 1634  kubectl get pod/awx-asda-786c757b57-79mcn -o yaml -n awx|grep -i -A5 containerID |grep -i name
 1635  kubectl get nodes
 1636  kubectl get pods -n awx
 1637  ll /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem
 1638  ps -ef|grep -i nginx
 1639  find / -name nginx.conf
 1640  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877/rootfs/etc/nginx
 1641  ll
 1642  cat nginx.conf
 1643  ll
 1644  cd default.d/
 1645  ll
 1646  cd ../conf.d/
 1647  ll
 1648  cd ../
 1649  ll
 1650  cd /usr/share/nginx/modules
 1651  cd ../../
 1652  ll
 1653  cd usr/share/nginx/
 1654  ll
 1655  cd modules/
 1656  ll
 1657  cd ../html/
 1658  ll
 1659  cd ../
 1660  cd ../../../
 1661  ll
 1662  cd etc/ssl
 1663  ll
 1664  cat openssl.cnf
 1665  cd ../pki/tls
 1666  ll
 1667  cat openssl.cnf 
 1668  cd
 1669  cd /source/
 1670  ll
 1671  cat traefik-config.yaml
 1672  cat awx-asdadeploy.yaml
 1673  clear
 1674  cat awx-asdadeploy.yaml
 1675  ll
 1676  cat awx-asda-ingress.yaml
 1677  cat traefik-config.yaml
 1678  cd /home/awx/Cert_Env_Files/Cert_Files
 1679  ll
 1680  cat awx-cert-tls.291123.yaml
 1681  cd /home/awx
 1682  ll
 1683  cd Cert_Env_Files/
 1684  ll
 1685  pwd
 1686  ll
 1687  cat kustomization.yaml
 1688  cat awx-asdacert-ingress.yaml
 1689  ll
 1690  pwd
 1691  cd Cert_Files/
 1692  ll
 1693  cat awx-cert-tls.291123.yaml
 1694  ll
 1695  cd
 1696  cat awx-cert-tls.291123.yaml
 1697  cd /home/awx/Cert_Env_Files/Cert_Files
 1698  ll
 1699  cat awx-cert-tls.291123.yaml
 1700  kubectl get pods
 1701  kubectl get pods --all-namespaces
 1702  ll
 1703  cat awx-cert-tls.291123.yaml
 1704  kubectl get csr
 1705  kubectl get csr -n awx
 1706  kubectl get csr -n kube-system
 1707  ll
 1708  cat awx-cert-tls.291123.yaml
 1709  kubectl get pods -n kube-system -o custom-columns=PodName:.metadata.name,PodUID:.metadata.uid
 1710  ll
 1711  cat awx-cert-tls.291123.yaml
 1712  ll
 1713  cd ../
 1714  ll
 1715  cat awx-asdacert-ingress.yaml
 1716  df -h
 1717  df -h|grep 874a4d09ca9969b9013c9d135241a245f1cce23af34f560e6ba918e30ec339bc
 1718  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/874a4d09ca9969b9013c9d135241a245f1cce23af34f560e6ba918e30ec339bc/rootfs
 1719  ll
 1720  cd data
 1721  ll
 1722  cd ../
 1723  cd etc/
 1724  ll
 1725  cd ssl
 1726  ll
 1727  cd certs
 1728  ll
 1729  cd ../
 1730  ll
 1731  cd ../
 1732  ll
 1733  cat motd 
 1734  cd ssl1.1/
 1735  ll
 1736  cat openssl.cnf
 1737  cd ../
 1738  ll
 1739  cd
 1740  df -h|grep 5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877
 1741  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877/rootfs
 1742  ll
 1743  cd etc/
 1744  ll
 1745  cd nginx/
 1746  ll
 1747  cd ../receptor/
 1748  ll
 1749  cd tls/
 1750  ll
 1751  cd ca/
 1752  ll
 1753  openssl x509 -in receptor-ca.crt -text -noout
 1754  cd ../
 1755  ll
 1756  cd ../
 1757  ll
 1758  cd signing/
 1759  ll
 1760  openssl x509 -in work-public-key.pem -text -noout
 1761  cd ../
 1762  ll
 1763  cd ssl
 1764  ll
 1765  cd ../pki/
 1766  ll
 1767  cd ca-trust/
 1768  ll
 1769  cd extracted/
 1770  ll
 1771  cd openssl/
 1772  ll
 1773  openssl x509 -in ca-bundle.trust.crt -text -noout
 1774  cd ../
 1775  ll
 1776  cd pem/
 1777  ll
 1778  cd ../
 1779  ll
 1780  cd ../
 1781  ll
 1782  cd source/
 1783  ll
 1784  cd ../
 1785  ll
 1786  cd tls
 1787  ll
 1788  cd certs/
 1789  ll
 1790  cd ../../
 1791  ll
 1792  cd ../
 1793  ll
 1794  cd ssl
 1795  ll
 1796  cd ../tower/
 1797  ll
 1798  cd conf.d/
 1799  ll
 1800  cd ../
 1801  ll
 1802  cd ../var/run/
 1803  ll
 1804  cd console/
 1805  ll
 1806  cd ../secrets/
 1807  ll
 1808  cd kubernetes.io/
 1809  ll
 1810  cd serviceaccount/
 1811  ll
 1812  cd ../../
 1813  cd ../
 1814  ll
 1815  cd lock/
 1816  ll
 1817  cd subsys/
 1818  ll
 1819  cd ../
 1820  ll
 1821  cd ../
 1822  ll
 1823  cd systemd
 1824  ll
 1825  cd ../../../
 1826  ll
 1827  cd home
 1828  ll
 1829  cd
 1830  exit
 1831  cd /etc/pki
 1832  ll
 1833  cd fwupd
 1834  ll
 1835  cd ../
 1836  cd
 1837  cd /etc/ssl
 1838  ll
 1839  cd certs/
 1840  ll
 1841  clear
 1842  ll
 1843  cd ../
 1844  ll
 1845  cd private/
 1846  ll
 1847  cd ../
 1848  cd certs/
 1849  ll  ssl-cert-snakeoil*
 1850  openssl x509 -enddate -noout -in {ssl-cert-snakeoil.pem}
 1851  openssl x509 -enddate -noout -in ssl-cert-snakeoil.pem
 1852  cd ../private/
 1853  ll
 1854  cd
 1855  find / -name ansiblecert.asda.uk  -print
 1856  find /etc -name ansiblecert.asda.uk  -print
 1857  cd /source/
 1858  ll
 1859  cat asdapvc.yaml
 1860  ll
 1861  openssl x509 -text -noout -in zscaler.crt
 1862  cd
 1863  kubectl get pods
 1864  kubectl get pods --namespaces-all
 1865  kubectl get pods --namespace-all
 1866  kubectl get pods -n awx
 1867  kubectl get svc
 1868  cd /var/lib/rancher/
 1869  ll
 1870  cd k3s/
 1871  ll
 1872  cd data
 1873  ll
 1874  cd ../server/
 1875  ll
 1876  cd tls/
 1877  ll
 1878  openssl x509 -text -noout -in server-ca.crt
 1879  openssl x509 -text -noout -in client-ca.crt
 1880  openssl x509 -text -noout -in serving-kube-apiserver.crt
 1881  openssl x509 -text -noout -in client-admin.crt
 1882  cd
 1883  netstat -tulpn|grep :80
 1884  netstat -tulpn|grep :443
 1885  netstat -tulpn
 1886  ps -ef|grep -i httpd
 1887  ps -ef|grep -i apache
 1888  ps -ef|grep -i apache2
 1889  kubectl get pods --namespaces
 1890  kubectl get pods --namespaces-all
 1891  kubectl get pods --namespace-all
 1892  kubectl get pods --help
 1893  ps -ef|grep -i nginx
 1894  find / -name nginx -print
 1895  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/f7397b32fbb9c17048f6cd58aa0df584553c4c5717b665cf036bb2c00e048864/rootfs/var/lib/nginx
 1896  ll
 1897  cd tmp/
 1898  ll
 1899  cd 
 1900  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/f7397b32fbb9c17048f6cd58aa0df584553c4c5717b665cf036bb2c00e048864/rootfs/etc/nginx
 1901  ll
 1902  cat nginx.conf
 1903  cd /etc/nginx/conf.d/
 1904  ll
 1905  cd conf.d/
 1906  ll
 1907  cd ../
 1908  cd
 1909  systemctl status nginxd
 1910  systemctl status nginx
 1911  ps -ef|grep -i nginx
 1912  cd /etc/pki/nginx/
 1913  cd /etc/pki/
 1914  ll
 1915  cd fwupd-metadata/
 1916  ll
 1917  cd
 1918  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877/rootfs/var/lib/nginx
 1919  ll
 1920  cd
 1921  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877/rootfs/etc/nginx
 1922  ll
 1923  cat nginx.conf
 1924  cd
 1925  kubectl get pods -n awx
 1926  kubectl describe pods/awx-operator-controller-manager-585df5d96d-p92kj -n awx
 1927  ll
 1928  cd .awx
 1929  ll
 1930  cd
 1931  openssl x509 -text -noout -in pvlauukslo.crt
 1932  ll
 1933  cd /source/
 1934  ll
 1935  cat awx-asda-ingress.yaml
 1936  ll awx-cert-tls
 1937  ll
 1938  cat traefik-config.yaml
 1939  cat traefik-truststore.yaml
 1940  find / -name awx-cert-tls -print
 1941  ll /certs/tls.crt
 1942  cat awx-asda-ingress.yaml
 1943  ping ansiblecert.asda.uk
 1944  kubectl get pods -n awx
 1945  kubectl describe pods/awx-asda-786c757b57-79mcn -n awx
 1946  cd
 1947  find / -name  awx-asda-web:
 1948  find / -name  awx-asda-web-conf -print
 1949  ll /etc/receptor/signing/work-public-key.pem
 1950  df -h
 1951  cd /run/k3s/containerd/io.containerd.runtime.v2.task/k8s.io/5e01b246d85a50c0d6adc1165252744279a182d033eb869238304e01571b6877/rootfs
 1952  ll
 1953  cd etc/
 1954  ll
 1955  cd pki
 1956  ll
 1957  cd tls/
 1958  ll
 1959  cd certs/
 1960  ll
 1961  pwd
 1962  openssl x509 -enddate -noout -in ca-bundle.crt
 1963  ll
 1964  pwd
 1965  cd ../../
 1966  ll
 1967  cd ca-trust/
 1968  ll
 1969  cd extracted/
 1970  ll
 1971  cd pem/
 1972  ll
 1973  openssl x509 -enddate -noout -in tls-ca-bundle.pem
 1974  cd ../openssl/
 1975  ll
 1976  openssl x509 -enddate -noout -in ca-bundle.trust.crt
 1977  cd
 1978  kubectl get pods --all-namespaces
 1979  kubectl describe pods/svclb-traefik-f57c6271-l6s86
 1980  kubectl describe pods/svclb-traefik-f57c6271-l6s86 -n kube-system
 1981  kubectl get pods --all-namespaces
 1982  kubectl describe pods/local-path-provisioner-5b5579c644-n22q4 -n kube-system
 1983  kubectl get pods --all-namespaces
 1984  kubectl describe pods/traefik-9c6dc6686-ndmpr -n kube-system
 1985  cd /data
 1986  ll
 1987  kubectl get pods -n kube-system -o custom-columns=PodName:.metadata.name,PodUID:.metadata.uid
 1988  kubectl get pods -n awx -o custom-columns=PodName:.metadata.name,PodUID:.metadata.uid
 1989  kubectl describe pods/awx-operator-controller-manager-585df5d96d-p92kj -n awx
 1990  kubectl get pods --all-namespaces
 1991  kubectl describe pods/traefik-9c6dc6686-ndmpr -n kube-system
 1992  kubectl get pods --all-namespaces
 1993  kubectl describe pods/awx-operator-controller-manager-585df5d96d-p92kj -n awx
 1994  kubectl describe pods/awx-asda-786c757b57-79mcn -n awx
 1995  cd
 1996  exit
 1997  pwd
 1998  ll
 1999  history
]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# kubectl describe deployment.apps/awx-operator-controller-manager -n awx
Name:                   awx-operator-controller-manager
Namespace:              awx
CreationTimestamp:      Wed, 16 Nov 2022 18:11:49 +0000
Labels:                 control-plane=controller-manager
Annotations:            deployment.kubernetes.io/revision: 1
Selector:               control-plane=controller-manager
Replicas:               1 desired | 1 updated | 1 total | 1 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:           control-plane=controller-manager
  Annotations:      kubectl.kubernetes.io/default-container: manager
  Service Account:  awx-operator-controller-manager
  Containers:
   kube-rbac-proxy:
    Image:      gcr.io/kubebuilder/kube-rbac-proxy:v0.13.0
    Port:       8443/TCP
    Host Port:  0/TCP
    Args:
      --secure-listen-address=0.0.0.0:8443
      --upstream=http://127.0.0.1:8080/
      --logtostderr=true
      --v=0
    Limits:
      cpu:     500m
      memory:  128Mi
    Requests:
      cpu:        5m
      memory:     64Mi
    Environment:  <none>
    Mounts:       <none>
   awx-manager:
    Image:      quay.io/ansible/awx-operator:1.0.0
    Port:       <none>
    Host Port:  <none>
    Args:
      --health-probe-bind-address=:6789
      --metrics-bind-address=127.0.0.1:8080
      --leader-elect
      --leader-election-id=awx-operator
    Limits:
      cpu:     2
      memory:  4Gi
    Requests:
      cpu:      50m
      memory:   32Mi
    Liveness:   http-get http://:6789/healthz delay=15s timeout=1s period=20s #success=1 #failure=3
    Readiness:  http-get http://:6789/readyz delay=5s timeout=1s period=10s #success=1 #failure=3
    Environment:
      ANSIBLE_GATHERING:   explicit
      ANSIBLE_DEBUG_LOGS:  false
      WATCH_NAMESPACE:      (v1:metadata.namespace)
    Mounts:                <none>
  Volumes:                 <none>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Progressing    True    NewReplicaSetAvailable
  Available      True    MinimumReplicasAvailable
OldReplicaSets:  <none>
NewReplicaSet:   awx-operator-controller-manager-585df5d96d (1/1 replicas created)
Events:          <none>
]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# 
[K]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# 
[K]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# 
[K]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# 
[K]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# 
[K]0;root@cvlauukaho-001a: ~root@cvlauukaho-001a:~# 

